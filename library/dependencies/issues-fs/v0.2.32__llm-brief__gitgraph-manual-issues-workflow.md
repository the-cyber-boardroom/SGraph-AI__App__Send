# LLM Brief: Manual GitGraph Issues Workflow (Phase/Release Model)

**Version:** v0.2.32  
**Date:** 2026-02-03  
**Audience:** LLMs assisting with manual issue management in this repo  

---

## Purpose

This brief explains how to manually create, move, and maintain GitGraph Issues in this repository using the file system. The goal is to keep issues readable in GitHub, consistent with the new `issue.json` format, and structured around **Project → Phase → Release → Feature/Task/Bug**.

This is a **manual workflow**. The issue tracker is the folder structure under `.issues/`, plus Markdown README files that act as a static, GitHub-friendly view.

---

## Canonical Location and Structure

All issues live under `.issues/issues/`.

### Root
- `.issues/issue.json` is the GitRepo root.
- `.issues/README.md` is the GitHub landing page for the issues database.

### Project
- `.issues/issues/Project-1/issue.json`
- `.issues/issues/Project-1/README.md`

### Phase
- `.issues/issues/Project-1/issues/Phase-1/issue.json`
- `.issues/issues/Project-1/issues/Phase-1/README.md`

### Releases
- `.issues/issues/Project-1/issues/Phase-1/issues/Release-*/issue.json`
- `.issues/issues/Project-1/issues/Phase-1/issues/Release-*/README.md`

### Work Items
- Features, tasks, bugs, and user stories live under their Release folders.
- Features can contain their own child tasks in a nested `issues/` folder.

---

## Required File Format

### `issue.json` (required)
Each issue folder must contain `issue.json`. The legacy `node.json` is **no longer used** in the Phase/Release tree.

Minimal required fields:
- `node_id` (8 hex chars)
- `node_type`
- `node_index`
- `label`
- `title`
- `status`
- `created_at`, `updated_at`
- `links` (list)

Example:
```json
{
  "node_id": "a1b2c3d4",
  "node_type": "task",
  "node_index": 42,
  "label": "Task-42",
  "title": "Add parent breadcrumb to README",
  "description": "Add parent links to each README for navigation.",
  "status": "backlog",
  "created_at": 1770119000000,
  "updated_at": 1770119000000,
  "created_by": "system",
  "tags": [],
  "links": [],
  "properties": {}
}
```

---

## Issue Types (current)
Use **one issue type per folder**, matching `node-types.json`.

Current top-level types in this repo:
- `git-repo`
- `project`
- `phase`
- `release`
- `feature`
- `task`
- `bug`
- `user-story`
- `agent` (planned, single type for humans and LLMs)

---

## Link Types (current)
Use `target_id` for identity and `target_label` for display. Use `verb` and `link_type_id` from `link-types.json`.

Core verbs:
- `has-phase` / `phase-of`
- `has-release` / `release-of`
- `has-feature` / `feature-of`
- `has-task` / `task-of`
- `has-bug` / `bug-of`
- `has-story` / `story-of`
- `assigned-to` / `assignee-of`
- `blocks` / `blocked-by`
- `depends-on` / `dependency-of`

`relates-to` exists but is deprecated.

Guideline: when you create a link, also create the inverse link if the verb has one.

---

## Manual Workflow (Step-by-step)

### 1) Pick the parent folder
Decide which parent should contain the issue:
- Releases live under a Phase.
- Features, tasks, bugs, and stories live under a Release.
- Feature sub-tasks live under `Feature-X/issues/`.

### 2) Create the issue folder
Create a folder named by the issue label:
```
.issues/issues/Project-1/issues/Phase-1/issues/Release-4/issues/Feature-12/
```

### 3) Create `issue.json`
Populate fields, including a new `node_id`.

Generate a new ID using:
```
python3 - <<'PY'
import secrets
print(secrets.token_hex(4))
PY
```

### 4) Add links (optional but recommended)
If this issue is contained by a parent, add a link in the parent issue:
- Parent issue gets `has-*`
- Child issue gets inverse `*-of`

### 5) Update README.md
Each top-level folder should have a README:
- `.issues/README.md`
- `.issues/issues/Project-1/README.md`
- `.issues/issues/Project-1/issues/Phase-1/README.md`
- Each Release has its own README

Include a **Parent** line at the top:
```
**Parent:** [Project-1: GitGraph Issues](../..)
```

Update the tables so the new issue appears.

---

## Moving Issues

When moving an issue:
1. Move the folder to the new parent.
2. Keep `issue.json` unchanged (do not change `node_id`).
3. Update README tables in both old and new parents.
4. Update links if the parent relationship changed.

---

## Deleting Issues

When deleting an issue:
1. Remove the issue folder.
2. Remove any links pointing to it in parent issues.
3. Update README tables.

---

## Status Updates

Edit `issue.json`:
- Change `status`
- Update `updated_at`

---

## Agent Assignment (planned)

Use a single type `agent` for humans and LLMs.
Add property `actor_kind` to distinguish:
- `human`
- `llm`
- `service`

Assign via `assigned-to` links:
- `task -> assigned-to -> agent`

---

## Readme Conventions

Each README is GitHub-friendly and contains:
1. Title
2. Parent link (except root)
3. Summary paragraph
4. Tables listing child issues
5. For releases, nested tables per feature

Do not use nested bullet lists. Tables should be flat and scannable.

---

## Do / Do Not

Do:
- Use `issue.json` only (no `node.json`) in Phase/Release tree.
- Keep `node_id` stable when moving.
- Update README tables after structural changes.
- Keep summary lines short (first line of description).

Do not:
- Create new `node.json` files.
- Rename labels without updating folder name and `issue.json` label.
- Use `relates-to` unless absolutely necessary.

---

## Quick Reference Tree

```
.issues/
├── issue.json
├── README.md
└── issues/
    └── Project-1/
        ├── issue.json
        ├── README.md
        └── issues/
            └── Phase-1/
                ├── issue.json
                ├── README.md
                └── issues/
                    ├── Release-1/
                    ├── Release-2/
                    ├── Release-3/
                    ├── Release-4/
                    └── Release-5/
```

---

## Notes

- `_index.json` files are not required in this workflow. If present, do not edit manually.
- All timestamps are epoch milliseconds.
- GitHub navigation should work via README parent links.

