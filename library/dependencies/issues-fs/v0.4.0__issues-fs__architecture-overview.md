# Issues-FS Ecosystem Architecture

**Document:** issues-fs__architecture-overview  
**Version:** v1.0  
**Date:** 2026-02-04  
**Status:** Active  

---

## Overview

Issues-FS is a file-system based issue tracking system designed for version control with Git, offline access, and flexible deployment. The ecosystem is split into focused, composable packages following the OSBot/MGraph-AI naming conventions.

### Design Principles

- **Separation of Concerns** — Core library separate from service layer
- **Pluggable Storage** — Via Memory-FS abstraction (memory, disk, S3, SQLite, ZIP)
- **Multi-Language Clients** — Python and JavaScript clients for API access
- **Service-Oriented** — Each integration exposes its own FastAPI service
- **Type-Safe** — All Python code uses osbot-utils Type_Safe patterns

---

## Repository Structure

```
Issues-FS                              → Core library
│
├── Issues-FS__CLI                     → Command-line interface
│
└── Issues-FS__Service                 → FastAPI server
    │
    ├── Issues-FS__Service__Client__Python    → Python API client
    ├── Issues-FS__Service__Client__JS        → JavaScript API client
    ├── Issues-FS__Service__UI                → Web UI
    │
    ├── Issues-FS__Service__GitHub            → GitHub sync service
    ├── Issues-FS__Service__S3                → S3 storage service
    └── Issues-FS__Service__Jira              → Jira sync service

Issues-FS__Dev                         → Development workspace
```

---

## Package Details

### Core Library

| Repository | Package | Registry | Description |
|------------|---------|----------|-------------|
| `Issues-FS` | `issues-fs` | PyPI | Core library with Graph__Repository, Node__Service, MGraph integration |

**Dependencies:**
- `issues-fs-service-client` — API schemas
- `memory-fs` — Storage abstraction
- `mgraph-db` — Graph queries
- `osbot-utils` — Type_Safe utilities

**Consumers:**
- Issues-FS__Service
- Issues-FS__CLI
- Direct library usage in Python applications

---

### Command Line Interface

| Repository | Package | Registry | Description |
|------------|---------|----------|-------------|
| `Issues-FS__CLI` | `issues-fs-cli` | PyPI | Command-line tool for issue management |

**Dependencies:**
- `issues-fs` — Core library (direct usage, no API)

**Usage:**
```bash
issues-fs create task "Implement feature X"
issues-fs list --type bug --status open
issues-fs tree Project-1
```

---

### Main Service

| Repository | Package | Registry | Description |
|------------|---------|----------|-------------|
| `Issues-FS__Service` | `issues-fs-service` | PyPI | FastAPI server with REST endpoints |

**Dependencies:**
- `issues-fs-service-client` — API schemas
- `issues-fs` — Core library
- `osbot-fast-api` — FastAPI helpers

**Provides:**
- REST API endpoints for CRUD operations
- Graph query endpoints (MGraph-DB)
- Visualization endpoints (D3 tree, force-directed)

**Endpoints:**
```
/api/nodes/*           → Issue CRUD
/api/graph/*           → Graph queries
/api/types/*           → Type configuration
/api/roots/*           → Root selection
```

---

### API Clients

| Repository | Package | Registry | Description |
|------------|---------|----------|-------------|
| `Issues-FS__Service__Client__Python` | `issues-fs-service-client` | PyPI | **Schemas** + Python client for API |
| `Issues-FS__Service__Client__JS` | `issues-fs-client` | npm | JavaScript/Node.js client for API |

#### Python Client (issues-fs-service-client)

**Contains:**
- All API request/response schemas
- Python client to call the REST API

**Depended on by:**
- `Issues-FS` — Core library imports schemas
- `Issues-FS__Service` — Server imports schemas
- `Issues-FS__Service__GitHub` — Uses client to call main API
- Any Python service that calls the Issues-FS API

**Dependencies:**
- `requests` or `httpx` — HTTP client
- `osbot-utils` — Type_Safe utilities

#### JavaScript Client (issues-fs-client)

**Contains:**
- TypeScript/JavaScript API client
- Type definitions

**Consumers:**
- Browser applications
- Node.js applications
- Electron apps
- Issues-FS__Service__UI

---

### Web UI

| Repository | Package | Registry | Description |
|------------|---------|----------|-------------|
| `Issues-FS__Service__UI` | `issues-fs-ui` | npm (or static) | Web-based user interface |

**Dependencies:**
- `issues-fs-client` — JavaScript API client

**Features:**
- Issue board view
- Hierarchical tree view
- Graph visualization
- Type/status configuration

---

### Integration Services

| Repository | Package | Registry | Description |
|------------|---------|----------|-------------|
| `Issues-FS__Service__GitHub` | `issues-fs-service-github` | PyPI | GitHub Issues sync |
| `Issues-FS__Service__S3` | `issues-fs-service-s3` | PyPI | S3 storage backend service |
| `Issues-FS__Service__Jira` | `issues-fs-service-jira` | PyPI | Jira sync (future) |

**GitHub Service Features:**
- Import issues from GitHub
- Export issues to GitHub
- Bidirectional sync
- Webhook handlers for real-time sync

**GitHub Service Dependencies:**
- `issues-fs-service-client` — Python client to call Issues-FS__Service
- `PyGithub` or `httpx` — GitHub API access

**S3 Service Features:**
- S3 storage configuration endpoints
- Bucket management
- Cross-region sync

**S3 Service Dependencies:**
- `issues-fs-service-client` — Schemas
- `osbot-aws` — AWS utilities
- `boto3` — S3 access

---

### Development Workspace

| Repository | Description |
|------------|-------------|
| `Issues-FS__Dev` | Submodules + integration tests + release scripts |

**Structure:**
```
Issues-FS__Dev/
├── .gitmodules
├── modules/
│   ├── Issues-FS/
│   ├── Issues-FS__CLI/
│   ├── Issues-FS__Service/
│   ├── Issues-FS__Service__Client__Python/
│   ├── Issues-FS__Service__Client__JS/
│   ├── Issues-FS__Service__UI/
│   ├── Issues-FS__Service__GitHub/
│   └── Issues-FS__Service__S3/
├── tests/
│   └── integration/
│       ├── test__core_to_service.py
│       ├── test__service_to_clients.py
│       ├── test__github_sync.py
│       └── test__full_stack.py
├── scripts/
│   ├── setup-dev.sh
│   ├── run-all-tests.sh
│   └── release.sh
└── docker-compose.yml
```

**Purpose:**
- Unified development environment
- Cross-repo integration tests
- Coordinated release management
- CI/CD for the full ecosystem

---

## Dependency Graph

```
                              ┌───────────────────────────┐
                              │  Issues-FS__Service       │
                              │    __Client__Python       │
                              │  (schemas + API client)   │
                              └─────────────┬─────────────┘
                                            ▲
              ┌─────────────────────────────┼─────────────────────────────┐
              │ depends on (for schemas)    │                             │
              │                             │                             │
   ┌──────────┴──────────┐       ┌──────────┴──────────┐      ┌───────────┴───────────┐
   │     Issues-FS       │       │  Issues-FS__Service │      │ Issues-FS__Service    │
   │   (core library)    │       │   (FastAPI server)  │      │     __GitHub          │
   └──────────┬──────────┘       └──────────┬──────────┘      │  (uses client to      │
              │                             │                  │   call main API)      │
              │ depends on                  │ depends on       └───────────────────────┘
              ▼                             ▼
   ┌─────────────────────┐       ┌─────────────────────┐
   │     Memory-FS       │       │     Issues-FS       │
   │  (storage backends) │       │   (core library)    │
   └─────────────────────┘       └─────────────────────┘

   ┌─────────────────────┐       ┌─────────────────────┐
   │   Issues-FS__CLI    │──────►│      Issues-FS      │
   └─────────────────────┘       │   (core, no API)    │
          depends on             └─────────────────────┘


   JavaScript side (independent):

   ┌─────────────────────┐       ┌─────────────────────┐
   │ Issues-FS__Service  │──────►│ Issues-FS__Service  │
   │        __UI         │       │   __Client__JS      │
   └─────────────────────┘       └─────────────────────┘
          depends on
```

### Key Insight: Schema Location

**All Python schemas live in `Issues-FS__Service__Client__Python`.**

This package is the foundation that provides:
- API request/response schemas
- Python client for calling the API

Both `Issues-FS` (core) and `Issues-FS__Service` (server) depend on this package for schemas.

```
    Issues-FS           Issues-FS__Service       Issues-FS__Service__GitHub
        │                       │                           │
        │                       │                           │
        └───────────────────────┼───────────────────────────┘
                                │
                                │ all depend on
                                ▼
                ┌───────────────────────────────┐
                │ Issues-FS__Service            │
                │       __Client__Python        │
                │    (schemas + API client)     │
                └───────────────────────────────┘
```

---

## Package Registry Summary

### PyPI Packages

| Package Name | Repository |
|--------------|------------|
| `issues-fs` | Issues-FS |
| `issues-fs-cli` | Issues-FS__CLI |
| `issues-fs-service` | Issues-FS__Service |
| `issues-fs-service-client` | Issues-FS__Service__Client__Python |
| `issues-fs-service-github` | Issues-FS__Service__GitHub |
| `issues-fs-service-s3` | Issues-FS__Service__S3 |

### npm Packages

| Package Name | Repository |
|--------------|------------|
| `issues-fs-client` | Issues-FS__Service__Client__JS |
| `issues-fs-ui` | Issues-FS__Service__UI (if published) |

---

## Development Workflow

### Local Development

```bash
# Clone the dev workspace
git clone --recursive https://github.com/owasp-sbot/Issues-FS__Dev.git
cd Issues-FS__Dev

# Setup development environment
./scripts/setup-dev.sh

# Run integration tests
./scripts/run-all-tests.sh
```

### Making Changes

1. **Core library change** → Update `Issues-FS`, run integration tests
2. **API change** → Update `Issues-FS__Service` + both clients
3. **UI change** → Update `Issues-FS__Service__UI` only
4. **New integration** → Create new `Issues-FS__Service__*` repo

### Release Process

1. Update version in target repo
2. Run integration tests in `Issues-FS__Dev`
3. Publish to PyPI/npm
4. Update dependent repos if needed
5. Tag release in `Issues-FS__Dev`

---

## Future Considerations

### Potential Additions

| Repository | Purpose |
|------------|---------|
| `Issues-FS__Service__GitLab` | GitLab Issues sync |
| `Issues-FS__Service__Linear` | Linear sync |
| `Issues-FS__Service__Notion` | Notion sync |
| `Issues-FS__MCP` | Model Context Protocol server |

### Versioning Strategy

- **Core library** (`issues-fs`) — Semantic versioning, breaking changes = major bump
- **Service** — Follows core library major version
- **Clients** — Match service API version
- **Integrations** — Independent versioning

---

## References

- [Memory-FS](https://github.com/owasp-sbot/Memory-FS) — Storage abstraction
- [MGraph-DB](https://github.com/owasp-sbot/MGraph-DB) — Graph database
- [OSBot-Utils](https://github.com/owasp-sbot/OSBot-Utils) — Type_Safe utilities
- [OSBot-Fast-API](https://github.com/owasp-sbot/OSBot-Fast-API) — FastAPI helpers

---

*Issues-FS Ecosystem Architecture v1.0*  
*Date: 2026-02-04*
