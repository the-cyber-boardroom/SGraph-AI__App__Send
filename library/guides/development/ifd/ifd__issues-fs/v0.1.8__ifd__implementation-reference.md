# IFD â€” Implementation Reference (Start Here)

**Purpose**: Index document that ties together all IFD implementation guides. Provide this file plus the companion files to any LLM to implement the same architecture in a new project.

---

## Document Set

| File | What It Covers |
|------|---------------|
| `v1.2.1__ifd__intro-and-how-to-use.md` | IFD methodology, versioning, surgical overrides, testing |
| `v0.1.8__ifd__event-driven-architecture.md` | EventBus, event naming, component communication, event flow |
| `v0.1.8__ifd__web-components-and-shell.md` | Shell, router, app registration, sidebar, layout, loading order |
| `v0.1.8__ifd__debug-panel-and-observability.md` | RHS panel: Messages, Events Viewer, API Logger, Automation |
| `v0.1.8__ifd__services-and-api-integration.md` | Service pattern, API client, config, cache, error propagation |
| **This file** | Overview, quick-start, and the full picture |

---

## The Architecture in One Diagram

```
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚                    index.html                               â”‚
                        â”‚                                                            â”‚
                        â”‚  1. Load EventBus          â”€â”€â”€ window.issuesApp.events     â”‚
                        â”‚  2. Load ConfigManager     â”€â”€â”€ window.issuesApp.config     â”‚
                        â”‚  3. Load GraphService      â”€â”€â”€ window.issuesApp.graph      â”‚
                        â”‚  4. Load MessagesService   â”€â”€â”€ window.issuesApp.messages   â”‚
                        â”‚  5. Load Shell component   â”€â”€â”€ <issues-shell>              â”‚
                        â”‚  6. Load App components    â”€â”€â”€ <node-list>, <kanban-board>  â”‚
                        â”‚  7. Load Debug components  â”€â”€â”€ <events-viewer>, <api-logger>â”‚
                        â”‚  8. Add <issues-shell> to DOM                               â”‚
                        â”‚  9. Register apps with router                               â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                           <issues-shell>                                     â”‚
    â”‚                                                                              â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ Left Nav â”‚  â”‚         Main Area            â”‚  â”‚    Right Sidebar       â”‚  â”‚
    â”‚  â”‚          â”‚  â”‚                               â”‚  â”‚    (Debug Panel)       â”‚  â”‚
    â”‚  â”‚ â€¢ List   â”‚  â”‚  One app visible at a time:  â”‚  â”‚                        â”‚  â”‚
    â”‚  â”‚ â€¢ Kanban â”‚  â”‚                               â”‚  â”‚  [Msgs][Events][API]  â”‚  â”‚
    â”‚  â”‚ â€¢ Detail â”‚  â”‚  <node-list>    (list view)  â”‚  â”‚                        â”‚  â”‚
    â”‚  â”‚ â€¢ Graph  â”‚  â”‚  <kanban-board> (board view) â”‚  â”‚  <messages-panel>      â”‚  â”‚
    â”‚  â”‚          â”‚  â”‚  <node-detail>  (single node)â”‚  â”‚  <events-viewer>       â”‚  â”‚
    â”‚  â”‚          â”‚  â”‚  <graph-viewer> (graph viz)  â”‚  â”‚  <api-logger>          â”‚  â”‚
    â”‚  â”‚          â”‚  â”‚                               â”‚  â”‚  <automation-runner>   â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚                                                                              â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ Ready â”‚ Active: Kanban Board â”‚ Apps: 8 â”‚ [Debug Panel ğŸ”´2]           â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Communication: EVENTS ONLY (via window.issuesApp.events)

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Component A â”‚â”€â”€emitâ”€â”€â–ºâ”‚   EventBus   â”‚â”€â”€notifyâ”€â–ºâ”‚  Component B â”‚
    â”‚              â”‚         â”‚              â”‚          â”‚              â”‚
    â”‚  (producer)  â”‚         â”‚  (router)    â”‚          â”‚  (consumer)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## The Five Pillars

### 1. EventBus (Centralized Event Routing)
- Single `EventBus` instance at `window.issuesApp.events`
- `emit(name, detail)` / `on(name, callback)` / `off(name, callback)`
- Event history with replay capability
- **See**: `v0.1.8__ifd__event-driven-architecture.md`

### 2. Web Components (Self-Contained UI Units)
- Each app is a `class extends HTMLElement` with `customElements.define()`
- Contract: `appId`, `navLabel`, `navIcon` static properties
- Lifecycle: `connectedCallback()` â†’ `render()` + `setupEventListeners()`
- Cleanup: `disconnectedCallback()` â†’ `off()` all handlers
- No Shadow DOM (enables surgical overrides)
- Self-contained CSS with class-name prefixes
- **See**: `v0.1.8__ifd__web-components-and-shell.md`

### 3. Shell + Router (Application Frame)
- `<issues-shell>` owns layout: header, left nav, main area, sidebar, footer
- Router at `window.issuesApp.router` manages app lifecycle
- `register(Class)` â†’ creates instance, adds to DOM, integrates with nav
- `navigate(appId)` â†’ hide/show, call `onActivate()`/`onDeactivate()`
- Main apps in center, debug apps in sidebar tabs
- Hash routing for deep-linking
- **See**: `v0.1.8__ifd__web-components-and-shell.md`

### 4. Services (API + State Layer)
- Singletons on `window.issuesApp.*` (graph, config, messages)
- Wrap all API calls, emit events on success/failure
- `api-error` events auto-create user-facing error messages
- Surgical override via `ServiceClass.prototype.newMethod = ...`
- **See**: `v0.1.8__ifd__services-and-api-integration.md`

### 5. Debug Panel (Real-Time Observability)
- Right sidebar with tabbed debug apps
- **Messages**: user-facing notifications with auto-open on errors
- **Events Viewer**: live stream of all EventBus events (interceptor pattern)
- **API Logger**: all fetch() calls with request/response bodies (fetch interceptor)
- **Automation Runner**: predefined test scenarios
- **See**: `v0.1.8__ifd__debug-panel-and-observability.md`

---

## Quick-Start: Implementing This in a New Project

### Step 1: Create the Folder Structure

```
my-app/
â”œâ”€â”€ v0.1.0/
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ app.css
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ event-bus.js          â† copy from reference
â”‚   â”‚   â”œâ”€â”€ config-manager.js     â† adapt endpoints
â”‚   â”‚   â”œâ”€â”€ my-api-service.js     â† your API client
â”‚   â”‚   â””â”€â”€ messages-service.js   â† copy from reference
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ shell/
â”‚       â”‚   â””â”€â”€ app-shell.js      â† adapt layout
â”‚       â”œâ”€â”€ events-viewer/
â”‚       â”‚   â””â”€â”€ events-viewer.js  â† copy from reference
â”‚       â”œâ”€â”€ api-logger/
â”‚       â”‚   â””â”€â”€ api-logger.js     â† copy from reference
â”‚       â”œâ”€â”€ messages-panel/
â”‚       â”‚   â””â”€â”€ messages-panel.js â† copy from reference
â”‚       â””â”€â”€ my-first-app/
â”‚           â””â”€â”€ my-first-app.js   â† your first app
```

### Step 2: Set Up the Core (event-bus.js)

Copy the EventBus verbatim. Change `window.issuesApp` to `window.myApp` if you prefer a different namespace.

### Step 3: Create Your API Service

Follow the service template from `v0.1.8__ifd__services-and-api-integration.md`. Key points:
- Wrap fetch in `_fetch()` with error handling
- Emit events for every state change
- Emit `api-error` on failures

### Step 4: Create the Shell

Start with the shell from `v0.1.8__ifd__web-components-and-shell.md`. Customize:
- `NAV_SECTIONS` â€” your navigation structure
- `SIDEBAR_APPS` â€” keep the four debug apps
- Layout (header text, footer content)

### Step 5: Create Your First App

Follow the component contract:
```javascript
class MyFirstApp extends HTMLElement {
    static get appId()    { return 'my-first-app'; }
    static get navLabel() { return 'Dashboard'; }
    static get navIcon()  { return 'ğŸ“Š'; }
    // ... full contract from web-components guide
}
customElements.define('my-first-app', MyFirstApp);
```

### Step 6: Copy the Debug Components

The Events Viewer, API Logger, Messages Panel, and Messages Service are **project-agnostic**. Copy them as-is. They work with any EventBus + fetch-based architecture.

### Step 7: Wire It Up in index.html

Follow the loading order from `v0.1.8__ifd__web-components-and-shell.md`.

---

## What Makes This Architecture Special

1. **Zero framework dependency** â€” pure ES6 + Web Components + browser APIs
2. **Complete observability built-in** â€” every event and API call is visible
3. **True component independence** â€” add/remove/replace any component without touching others
4. **Surgical override versioning** â€” change one method without copying entire files
5. **Production-safe debugging** â€” sidebar is hidden by default, toggle when needed
6. **LLM-friendly** â€” self-contained files with clear contracts, no build step, no transpilation
7. **Fast feedback loop** â€” edit a JS file, refresh browser, see changes

---

## File Sizes Reference (Issues-FS Implementation)

| File | Lines | Purpose |
|------|-------|---------|
| `event-bus.js` | ~170 | EventBus singleton |
| `config-manager.js` | ~240 | Persistent config (localStorage) |
| `graph-service.js` | ~410 | API client for nodes/links/types |
| `messages-service.js` | ~230 | User-facing notification service |
| `issues-shell.js` | ~800 | Shell with full layout + router |
| `events-viewer.js` | ~265 | Events debug panel |
| `api-logger.js` | ~435 | API call debug panel |
| `messages-panel.js` | ~330 | Messages display panel |
| `app.css` | ~300 | Global styles (shell, layout) |

**Total for the framework**: ~3,200 lines of JavaScript + ~300 lines of CSS. No build step, no transpilation, no node_modules.

---

*Give these five documents to an LLM and it can implement this architecture for any project.*
