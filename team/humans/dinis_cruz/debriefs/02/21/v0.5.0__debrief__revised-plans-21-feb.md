# v0.5.0 — Debrief: Revised Plans Based on Human Decisions (21 Feb)

**Version:** v0.5.0  
**Date:** 2026-02-21  
**Team:** Explorer  
**Session:** Processing human decisions, revising Dev plan + AppSec review  

---

## What Changed

You reviewed the initial 5-role response and provided 10 decisions. We revised the Dev plan, split the AppSec review, captured the GRC risk, and fixed the access token bug.

---

## Recommended Reading Order

### 1. AppSec: What to read now (2 min)

- **[AppSec Read Now](../../../../../roles/appsec/reviews/26-02-21/v0.5.0__appsec__read-now.md)** — 3 things to address in the build (case-insensitive normalisation, rate limiting, transparency log Phase 1). 5 things already handled by admin auth. 2 things to note (no challenge-response yet, findings only real when endpoints hit User Lambda).

### 2. Revised Dev plan (5 min)

- **[Dev Implementation Plan (Revised)](../../../../../roles/dev/reviews/26-02-21/v0.5.0__implementation-plan__key-discovery-and-registry-revised.md)** — Complete rewrite using IFD Issues-FS architecture. 5 phases: (1) IFD foundation + debug panels, (2) PKI component refactor, (3) Backend API + key discovery components, (4) Storage browser, (5) QR + polish. Full component inventory, event catalogue, shell layout diagram.

### 3. GRC risk (1 min)

- **[GRC Risk: Auth Model Transition](../../../../../roles/appsec/reviews/26-02-21/v0.5.0__grc-risk__auth-model-transition.md)** — Tracks the risk of moving from the current high-trust model to a wider user base. Lists 5 triggers that mandate a full AppSec review before proceeding.

### 4. Future findings (reference)

- **[AppSec Future Findings](../../../../../roles/appsec/reviews/26-02-21/v0.5.0__appsec__future-findings-catalogue.md)** — 13 deferred findings for Chain of Trust and Secure Pod, with "revisit when" triggers. Read when those features move to implementation.

---

## Decisions Applied

| # | Your Decision | Where Applied |
|---|---------------|---------------|
| 1 | All on Admin Lambda (already auth-protected) | AppSec: 5 findings downgraded |
| 2 | IFD Issues-FS architecture for admin UI | Dev plan: complete rewrite |
| 3 | Refactor pki.html into components | Dev plan: Phase 2 |
| 4 | 3 debug panels (API, Events, Messages) | Dev plan: Phase 1, component inventory |
| 5 | Case-insensitive lookup codes | AppSec KD-NEW, Dev plan §3.4 |
| 6 | No challenge-response for now | GRC risk document, AppSec future findings |
| 7 | Registry admin-only | AppSec: KD-4 downgraded to Informational |
| 8 | v0.1.3 for new features | Dev plan: all new files in v0.1.3/ |
| 9 | Backend data browser | Dev plan: Phase 4, new Storage component |
| 10 | Fix access token case-sensitivity | Bug fix: `send-access-gate.js` in v0.1.4 |

---

## Bug Fix Applied

**File:** `sgraph_ai_app_send__ui__user/v0/v0.1/v0.1.4/components/send-access-gate/send-access-gate.js`

**Problem:** On mobile, the first letter of the access token was auto-capitalised, causing lookup failure (tokens are case-sensitive).

**Fix:**
1. Added `autocapitalize="off"` and `autocorrect="off"` to the input field
2. Added `.toLowerCase()` to token value before storing/sending to API

---

## Key Architecture Highlight

The admin UI migrates from the current simple shell to the full IFD Issues-FS architecture:

```
Current (v0.1.2)                    New (v0.1.3)
─────────────────                   ───────────────────
Shadow DOM shell                    Light DOM shell + Router
data-panel switching                EventBus-driven navigation
Separate pki.html page              All components in shell
No debug tooling                    3 debug panels (Events, API, Messages)
Monolithic pki-manager.js           3 focused components + service
5 components                        16+ components
```

---

## Session Deliverables

| # | Document | Role |
|---|----------|------|
| 1 | [AppSec: Read Now](../../../../../roles/appsec/reviews/26-02-21/v0.5.0__appsec__read-now.md) | AppSec |
| 2 | [AppSec: Future Findings](../../../../../roles/appsec/reviews/26-02-21/v0.5.0__appsec__future-findings-catalogue.md) | AppSec |
| 3 | [AppSec: Revised Review](../../../../../roles/appsec/reviews/26-02-21/v0.5.0__review__pki-architecture-security-revised.md) | AppSec |
| 4 | [GRC Risk: Auth Transition](../../../../../roles/appsec/reviews/26-02-21/v0.5.0__grc-risk__auth-model-transition.md) | GRC |
| 5 | [Dev Plan: Revised](../../../../../roles/dev/reviews/26-02-21/v0.5.0__implementation-plan__key-discovery-and-registry-revised.md) | Dev |
| 6 | [Librarian Catalogue](../../../../../roles/librarian/reviews/26-02-21/v0.5.0__catalogue__revised-reviews-21-feb.md) | Librarian |
| 7 | Bug fix: access token case-sensitivity | Dev |
| 8 | This debrief | — |

---

## What's Next

| Priority | Item |
|----------|------|
| **P0** | Start Phase 1: IFD foundation (v0.1.3 shell + EventBus + debug panels) |
| **P1** | Phase 2: PKI component refactor (break up pki-manager.js) |
| **P2** | Phase 3: Backend API + key discovery components |
| **P3** | Phase 4: Storage browser for backend visibility |
| **P4** | Phase 5: QR codes + polish |
