# v0.5.0 — Debrief: 21 Feb Briefs — PKI Architecture & Key Discovery

**Version:** v0.5.0
**Date:** 2026-02-21
**Team:** Explorer
**Session:** Processing 3 new briefs (key discovery, chain of trust, secure pod)

---

## What Was Processed

Three briefs from 21 Feb, covering the full arc from **immediate build** (key discovery) through **architectural design** (trust graphs) to **future capability** (secure pod). Five roles responded.

---

## Recommended Reading Order

### 1. The build plan (3 min)

- **[Dev Implementation Plan: Key Discovery & Registry](../../roles/dev/reviews/26-02-21/v0.5.0__implementation-plan__key-discovery-and-registry.md)** — 5-phase plan covering shared utility extraction, backend API, publish button, lookup page, registry page, QR codes. Estimates ~5 days. Start here — this is the immediate next build.

### 2. Security review (5 min) — read before building

- **[AppSec Review: PKI Architecture Security](../../roles/appsec/reviews/26-02-21/v0.5.0__review__pki-architecture-security.md)** — 25 new risk findings across all 3 briefs. **Two critical findings for the immediate build:** (1) `POST /api/keys` needs authentication + proof-of-possession to prevent registry flooding; (2) equivocation attacks on the hash chain need phased mitigation. Read at least the Key Discovery section before starting implementation.

### 3. Architecture reviews (5 min each)

- **[Architect Review: Chain of Trust](../../roles/architect/reviews/26-02-21/v0.5.0__review__chain-of-trust-architecture.md)** — Validates all 6 sections. Proposes concrete `Type_Safe` schemas. Identifies equivocation detection as the hardest unsolved problem. 6 new architectural decisions. Ranks the 10 research tasks into 3 priority tiers.
- **[Architect Review: Secure Pod](../../roles/architect/reviews/26-02-21/v0.5.0__review__secure-pod-architecture.md)** — Validates the security model. Concludes client-side pod is **not viable** for investor data rooms. Recommends separate AWS account as prototype starting point. Scopes the minimum viable pod at ~6-7 days.

### 4. The catalogue (reference)

- **[Librarian Catalogue: Briefs 21 Feb](../../roles/librarian/reviews/26-02-21/v0.5.0__catalogue__briefs-21-feb.md)** — All 3 briefs catalogued with classification, status, key content summaries, and relationship diagram.

---

## Key Findings Across All Roles

### Critical Items (address before/during build)

| # | Finding | From | Action |
|---|---------|------|--------|
| 1 | `POST /api/keys` needs auth + proof-of-possession | AppSec (KD-1) | Add to Phase 2 of dev plan |
| 2 | Equivocation attack on hash chain (server lying) | AppSec (CT-1), Architect | Phase mitigation: audit trail → gossip → witness |
| 3 | Compromised group admin = malicious keys for all | AppSec (CT-2) | Future: threshold signing (K-of-N) |

### Architecture Decisions Proposed

| ID | Decision | Role |
|----|----------|------|
| AD-25 | Equivocation detection via external witness service | Architect |
| AD-26 | Revocation cache policy (max-stale before re-check) | Architect |
| AD-27 | Layered identity: progressive disclosure (persona → device → admin) | Architect |
| AD-28 | Modular Chain__Service + Graph__Service | Architect |
| AD-29 | Trust graph atomic writes (serialised per group) | Architect |
| AD-30 | Encrypted page delivery: split encrypted/plaintext responses | Architect |

### Open Questions for Human Decision

| # | Question | From |
|---|----------|------|
| 1 | Should cross-group trust edges be allowed? (Alice in Group-X trusts Bob in Group-Y) | Architect |
| 2 | Who administers groups? Single admin key or multi-admin threshold? | Architect |
| 3 | Equivocation mitigation: client gossip (simpler) vs external witness (stronger)? | Architect, AppSec |
| 4 | Lookup codes: case-sensitive or case-insensitive? | Dev |
| 5 | Should `GET /api/keys` (list all) require authentication on private deployments? | AppSec |
| 6 | Client-side pod for personal use, server pod for enterprise — does the hybrid model interest you? | Architect |

---

## Session Deliverables

| Role | Document | Key Output |
|------|----------|------------|
| Librarian | Catalogue: Briefs 21 Feb | 3 briefs catalogued, relationship diagram |
| Architect | Review: Chain of Trust | 6 sections validated, 6 ADs, research prioritisation |
| Architect | Review: Secure Pod | Security model validated, client-side pod rejected for investor use case |
| Developer | Implementation Plan: Key Discovery | 5-phase plan, API contracts, data models, ~5 days |
| AppSec | Review: PKI Architecture Security | 25 risk findings (2 critical, 5 high, 11 medium, 7 low) |

---

## What's Next

| Priority | Item | Owner |
|----------|------|-------|
| **P0** | Resolve AppSec criticals (auth on publish, enumeration protection) | Dev + AppSec |
| **P1** | Build key discovery — Phase 1-5 of dev plan | Dev |
| **P2** | Trust graph schema design (Architect D1 research task) | Architect |
| **P3** | Equivocation detection design | Architect + AppSec |
| **Future** | Secure pod prototype (triggered by customer demand) | Architect + Dev |
