# Brief: UI Bugs and Improvements

**version** v0.4.11  
**date** 19 Feb 2026  
**from** Human (project lead) ‚Äî direct observation  
**to** Designer (lead), Developer  
**type** Bug report + UX improvement brief  

---

## Bug 1: Navigation Button Active State

**What happens**: when the user is already on the "File" tab and clicks the "File" button, nothing happens ‚Äî but it still looks like a clickable button.

**Expected behaviour**: when a navigation element is already selected, it should not appear clickable. It should be visually distinct (different styling, no hover effect, no cursor pointer) to indicate "you're already here."

**Fix**: apply an active/selected state to the current navigation tab. Disable click handler on the active tab. Standard UI pattern.

**Priority**: P2 ‚Äî quick fix, professional polish.

---

## Bug 2: Drag-and-Drop Area Is Too Large and Unprofessional

**What happens**: the file drag-and-drop area takes up a large amount of screen space and looks like a testing/development placeholder rather than a production UI element.

**The problem**: this has been noted multiple times. The large drop area was useful during development but doesn't look professional.

**Proposed solutions**:
- Reduce the drop zone to a compact area with a clear icon and label
- Consider a collapsible or contextual drop zone that expands only when the user starts dragging
- Use a menu or toolbar approach ‚Äî the drag-and-drop is one of several input methods, not the primary visual element

**Priority**: P2 ‚Äî affects first impressions.

---

## Improvement 1: Test File Drag-and-Drop from UI

**The idea**: instead of requiring users to find files on their device to test the product, provide sample files directly in the UI that can be dragged into the upload area.

**Implementation**: display a row of small icons representing sample files:

```
[üìÑ Text]  [üìã JSON]  [üìë PDF]  [üìë Large PDF]  [üñºÔ∏è Image]
```

The user drags one of these icons into the upload area. The file is generated client-side (or pre-loaded as a small static asset). This lets someone test the full workflow without having a file ready to send.

**Technical consideration**: can we support drag-and-drop from an in-page element to the file upload drop zone? The HTML5 Drag and Drop API should support this ‚Äî the draggable element creates a `DataTransfer` with a `File` object.

**Priority**: P3 ‚Äî nice UX for first-time users, especially for demos.

---

## Improvement 2: In-Browser File Rendering (Images and PDFs)

**The idea**: when the recipient decrypts a file, if it's an image or a PDF, render it directly in the browser rather than just offering a download link.

**For images**: display the image inline. The user sees the image immediately after decryption, with a download button below.

**For PDFs**: render using a PDF viewer (e.g., PDF.js). The user reads the PDF in the browser, with a download option.

**Important**: this is entirely client-side. The server doesn't know the file type ‚Äî it only stores encrypted bytes. The file type detection and rendering happen after decryption in the browser.

**Security note**: rendering untrusted content in the browser has XSS implications. PDFs can contain JavaScript. Images can exploit rendering bugs. Use sandboxed iframes for rendering, same as the approach planned for markdown rendering (see security review brief).

**Priority**: P3 ‚Äî significant UX improvement, especially for the "send an image" use case. Aligns with the goal of making the product feel like a communication tool, not a file transfer utility.

---

## Improvement 3: Auto-Upload Mode

**The idea**: a mode where the file starts uploading immediately after being dropped or selected, without requiring a separate "send" button click.

**Use case**: for power users who do this regularly, reducing one click per transfer adds up. Drop a file ‚Üí encryption starts ‚Üí upload starts ‚Üí link is generated. One action, not three.

**Implementation**: a toggle or setting (could be a feature flag) that enables auto-upload. When enabled:
1. File is dropped or selected
2. Encryption begins immediately
3. Upload begins as soon as encryption completes
4. Post-encryption page is shown automatically

**AppSec consideration**: auto-upload reduces the "are you sure?" moment. For sensitive content, the user might want to review before sending. Default should be off ‚Äî opt-in for power users.

**Priority**: P4 ‚Äî power user feature, not critical for launch.

---

## Improvement 4: Delete Button (Both Sides)

**The idea**: both the sender and recipient should be able to delete the encrypted file from the server.

**Sender-side delete**: "I uploaded the wrong file" or "I changed my mind." The sender can delete the encrypted blob from the server. The link becomes a "this content has been deleted" message.

**Recipient-side delete**: "I've downloaded the file and I want to clean up." The recipient can delete the encrypted blob after downloading. This is especially useful for security-conscious users ‚Äî they know the server-side copy is gone.

**The interesting insight**: there's nothing preventing either side from deleting. The encrypted blob is just an object in S3. If you have the identifier, you can request deletion. The question is: should both sides always have delete access, or should it be configurable?

**Workflow this enables**:
1. Sender drops a file ‚Üí auto-upload ‚Üí file is on the server
2. Recipient gets the link ‚Üí downloads the file ‚Üí presses "Delete" ‚Üí server-side copy is gone
3. The file now exists only on the recipient's device
4. Zero server-side persistence after consumption

**AppSec + DPO + GRC**: review the delete feature. Questions:
- Should deletion be logged? (For audit trail)
- Should the sender be notified when the recipient deletes?
- Should deletion be immediate or soft (marked for deletion, cleaned up by a scheduled process)?
- Does this interact with the "expiring links" feature? (Auto-delete on expiry vs manual delete by either party)

The security reviewer (User A) suggested sender-side deletion using a `delete_secret` pattern (similar to Firefox Send). This aligns.

**Priority**: P3 ‚Äî meaningful security feature that aligns with the zero-knowledge philosophy.

---

## Designer Cards ‚Äî Workflow Validated

A quick note: the Designer ‚Üí Print ‚Üí Distribute workflow for business cards worked perfectly (see the Industry Dinner Debrief brief for details). This is a validated production pipeline for physical marketing materials.

---

## Summary

| Item | Type | Owner | Priority |
|---|---|---|---|
| Navigation active state (File button when already on File) | Bug fix | Developer | P2 |
| Reduce/redesign drag-and-drop area | UX fix | Designer, Developer | P2 |
| Sample test files drag-and-drop from UI | Improvement | Developer | P3 |
| In-browser image and PDF rendering after decryption | Improvement | Developer, AppSec | P3 |
| Auto-upload mode (feature flag) | Improvement | Developer | P4 |
| Delete button (sender and recipient) | Feature | Developer, AppSec, DPO | P3 |

---

This document is released under the Creative Commons Attribution 4.0 International licence (CC BY 4.0). You are free to share and adapt this material for any purpose, including commercially, as long as you give appropriate credit.
