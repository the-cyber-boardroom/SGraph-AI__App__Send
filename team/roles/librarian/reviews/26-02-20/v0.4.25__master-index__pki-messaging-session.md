# v0.4.25 — Master Index: PKI Messaging Session (20 February 2026)

**Version:** v0.4.25
**Date:** 2026-02-20
**Role:** Librarian
**Team:** Explorer
**Previous index:** [`v0.4.25__catalogue__pki-milestone-and-linkedin-post.md`](v0.4.25__catalogue__pki-milestone-and-linkedin-post.md)

---

## Session Summary

This session delivered the **first end-to-end PKI messaging MVP for SG/Send** — a fully client-side cryptographic communication system with both **confidentiality** (RSA-OAEP + AES-256-GCM hybrid encryption) and **authenticity** (ECDSA P-256 digital signatures). The milestone was publicly announced on LinkedIn by the project owner.

---

## Complete Deliverables Index

### Code (1 component, 7 commits)

| # | Commit | Description | File |
|---|--------|-------------|------|
| 1 | `3e63e2d` | Admin PKI key management page (v0.1.2) | `pki.html`, `pki-manager.js` |
| 2 | `6cafc67` | Secure context detection (`crypto.subtle` guard) | `pki-manager.js` |
| 3 | `c4d17c7` | Compact two-column grid layout | `pki-manager.js` |
| 4 | `1e07934` | SG/Send branding, overflow fixes, encrypt/decrypt messages | `pki-manager.js` |
| 5 | `1916f82` | Digital signatures (ECDSA P-256) for sender authentication | `pki-manager.js` |
| 6 | `ca538bd` | Improved unsigned message status (contextual, not alarmist) | `pki-manager.js` |
| 7 | `cbddb91` | Architect briefing document | (docs only) |

**Component:** `sgraph_ai_app_send__ui__admin/v0/v0.1/v0.1.2/components/pki-manager/pki-manager.js` — 1821 lines, zero dependencies, Shadow DOM Web Component.

### Role Reviews Produced

| Role | Document | Purpose |
|------|----------|---------|
| **Architect** | [`v0.4.25__briefing__pki-messaging-architecture.md`](../../architect/reviews/26-02-20/v0.4.25__briefing__pki-messaging-architecture.md) | Full technical briefing with ASCII art workflows, data model, payload format, security properties |
| **Historian** | [`v0.4.25__milestone__first-pki-message-exchange.md`](../../historian/reviews/26-02-20/v0.4.25__milestone__first-pki-message-exchange.md) | Timeline, decision log, significance in project history |
| **Journalist** | [`v0.4.25__article__pki-milestone.md`](../../journalist/reviews/26-02-20/v0.4.25__article__pki-milestone.md) | Narrative article capturing the milestone moment |
| **Librarian** | [`v0.4.25__catalogue__pki-milestone-and-linkedin-post.md`](v0.4.25__catalogue__pki-milestone-and-linkedin-post.md) | Artefact catalogue and architecture decisions |
| **Librarian** | This document | Master index for the full session |
| **QA** | [`v0.4.25__verification__pki-end-to-end.md`](../../qa/reviews/26-02-20/v0.4.25__verification__pki-end-to-end.md) | Verification report — what was tested and confirmed |

### External Artefacts

| Artefact | Location |
|----------|----------|
| LinkedIn announcement | https://www.linkedin.com/feed/update/urn:li:ugcPost:7430445854819524608/ |
| Screenshots | Two confirmed exchanges: prod ↔ localhost, both directions verified |

---

## Capabilities Delivered

| Capability | Version | Status |
|------------|---------|--------|
| RSA-OAEP 4096-bit key pair generation | v0.4.20 | LIVE |
| IndexedDB key storage (non-extractable) | v0.4.20 | LIVE |
| Public key export/import (PEM) | v0.4.20 | LIVE |
| SHA-256 fingerprinting | v0.4.20 | LIVE |
| Hybrid encryption (RSA-OAEP + AES-256-GCM) | v0.4.20 | LIVE |
| Secure context detection | v0.4.25 | LIVE |
| SG/Send brand mark (teal slash) | v0.4.25 | LIVE |
| Encrypt & Decrypt message workflow | v0.4.25 | LIVE |
| ECDSA P-256 signing key pair generation | v0.4.25 | LIVE |
| JSON key bundle format (encrypt + sign) | v0.4.25 | LIVE |
| Digital signature on encrypt (payload v2) | v0.4.25 | LIVE |
| Signature verification on decrypt (4 states) | v0.4.25 | LIVE |
| Backwards compatibility (v1 payloads, legacy PEM) | v0.4.25 | LIVE |

---

## Key Architecture Decisions

| ID | Decision | Rationale |
|----|----------|-----------|
| D-PKI-001 | RSA-OAEP 4096 + AES-256-GCM hybrid | Industry standard; RSA wraps small AES key, AES encrypts payload |
| D-PKI-002 | Non-extractable private keys in IndexedDB | Browser-enforced; JS cannot read key material |
| D-PKI-003 | ECDSA P-256 for signing (not RSA-PSS) | Fast generation, small signatures, separate key purpose |
| D-PKI-004 | JSON bundle for public key exchange | Carries both keys; backwards-compatible with bare PEM |
| D-PKI-005 | Payload versioning (v1/v2) | Backwards compat; future extensibility |
| D-PKI-006 | Sign ciphertext bytes, not full payload | AES-GCM auth tag covers IV/wrapped-key integrity separately |
| D-PKI-007 | Contextual unsigned status (not alarmist) | Old keys legitimately can't sign; manual exchange IS authentication |

---

## What's Next (Not Implemented Yet)

1. **Fingerprint comparison** — out-of-band verification step for contacts
2. **Key revocation** — mechanism to revoke compromised keys
3. **Multi-device key sync** — keys are browser-local only
4. **Message history** — persistent message store (not currently planned)
5. **Forward secrecy** — ephemeral key exchange for per-message keys
6. **PKI integration with file transfer** — apply messaging crypto to the send/receive flow

---

## Cross-References

| Document | Location |
|----------|----------|
| Previous Librarian index | [`v0.4.22__catalogue__briefs-20-feb.md`](v0.4.22__catalogue__briefs-20-feb.md) |
| Original dev brief | `team/humans/dinis_cruz/briefs/02/20/v0.4.20__dev-brief__admin-pki-key-management-page.md` |
| Original architect plan | [`v0.4.17__implementation-plan__browser-pki-key-management.md`](../../architect/reviews/26-02-20/v0.4.17__implementation-plan__browser-pki-key-management.md) |
| Session debrief | [`../../humans/dinis_cruz/debriefs/02/20/v0.4.25__debrief__pki-messaging-mvp.md`](../../../humans/dinis_cruz/debriefs/02/20/v0.4.25__debrief__pki-messaging-mvp.md) |
