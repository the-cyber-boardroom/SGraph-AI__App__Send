# First-Time User Journey Map & Friction Log

**Version:** v0.2.33
**Date:** 13 February 2026
**Role:** Sherpa
**Session:** `claude/read-secure-send-brief-Mz6yN`
**Status:** First activation -- baseline established from real user feedback + UI code analysis

---

## 1. Sender Journey Map (End-to-End)

The sender is the person who wants to transmit a file or text securely. This is the primary flow and the one observed during the first real user session.

### Stage S1: Land

| Field | Value |
|-------|-------|
| **URL** | `send.sgraph.ai` |
| **What the user sees** | Header: "SGraph Send" + "Zero-knowledge encrypted file sharing". Below: either an access gate (if no token) or the upload component. Locale selector in top-right corner. |
| **User's mental model** | "I typed a URL someone gave me. I expect to understand what this does within 5 seconds." |
| **Current reality** | The page does not explain what SGraph Send does. There is no onboarding content, no diagram, no step-by-step guide. The subtitle "Zero-knowledge encrypted file sharing" is technically accurate but does not answer the user's question: "What do I do here?" |
| **Trail signal** | Page load event, referrer, user-agent, viewport size |

### Stage S2: Authenticate (Access Gate)

| Field | Value |
|-------|-------|
| **What the user sees** | A card with a lock icon, "Beta Access" heading, a text input for the access token, and a "Go" button. Below it, a LaunchList signup form. |
| **User's mental model** | "I need a code to get in. Someone gave me one." |
| **Current reality** | The gate is clear enough for users who arrive with a token. But there is no explanation of what a token is, where to get one, or what happens after entry. The error message ("Invalid or missing token") is functional but not guiding. |
| **Trail signal** | Token submission event (success/failure), time spent on gate, number of retries |

### Stage S3: Choose Input Mode

| Field | Value |
|-------|-------|
| **What the user sees** | Two mode tabs: "File" (default) and "Text". The drop zone is shown for file mode. |
| **User's mental model** | "I can send a file or text. Got it." |
| **Current reality** | The mode tabs are small and understated. The text mode is a good addition (v0.1.2+) but new users may not notice it. No explanation of why text mode exists or what it is for. |
| **Trail signal** | Mode selection event, time before first interaction |

### Stage S4: Select/Create Content

| Field | Value |
|-------|-------|
| **What the user sees (file mode)** | Drop zone: "Drop your file here" / "or click to browse" / "Encrypted in your browser before upload". A test files section below with downloadable test files. |
| **What the user sees (text mode)** | A textarea with placeholder "Type or paste your text here", a character counter, and an "Encrypt & Send" button. |
| **User's mental model** | "I need to get my file into this box." |
| **Current reality** | The drop zone is visually clear. The "Encrypted in your browser before upload" hint is good but easily missed -- it is the smallest text in the zone. The test files section is helpful for testing but may confuse real users ("Why is there a test files section on a production service?"). |
| **Trail signal** | File selected event (drag-drop vs click-browse vs test file), file size, content type, text mode character count |

### Stage S5: Encrypt & Upload

| Field | Value |
|-------|-------|
| **What the user sees** | After selecting a file: file name and size displayed, "Encrypt & Upload" button. After clicking: progress bar with "Encrypting..." then "Uploading..." states. |
| **User's mental model** | "It is working. I can see progress." |
| **Current reality** | The progress bar is a two-stage approximation (33% for encrypting, 66% for uploading). This is honest but jerky -- it jumps from 0 to 33 to 66 to complete. For small files, the entire process is near-instant and the progress states flash by too quickly to read. For large files, the progress is not real (no actual byte-level tracking). |
| **Trail signal** | Encryption start/end timestamps, upload start/end timestamps, file size, success/failure, error type if failed |

### Stage S6: Share (the critical moment)

| Field | Value |
|-------|-------|
| **What the user sees** | Success message ("Your file has been encrypted and uploaded."). A "Share this link" row with the combined URL (hash-fragment format: `download.html#{transferId}/{key}`) and a "Copy link" button. A toggle: "Share key separately" that reveals the link-only URL and decryption key as separate values. A transparency panel showing what was stored. |
| **User's mental model** | "Great, it worked. Now how do I get this to the other person?" |
| **Current reality** | **This is the highest-friction stage.** The combined URL is the primary sharing mechanism, which is a major improvement over the original two-part flow. However: (a) there is no sharing action beyond "Copy link" -- no "send via email", no "open in Gmail", no QR code; (b) the user must manually switch to their email/messaging app and paste; (c) the "Share key separately" toggle is good for power users but potentially confusing for first-timers ("Should I be sharing separately? Is the combined link less secure?"); (d) the transparency panel appears here but may be overwhelming at the moment the user is trying to share. |
| **Trail signal** | Copy-link click, toggle-separate-key click, copy-key click, copy-link-only click, time spent on result screen |

### Stage S7: Confirm Delivery (not yet implemented)

| Field | Value |
|-------|-------|
| **What the user sees** | Nothing. The flow ends at Stage S6. |
| **User's mental model** | "Did they get it? Did they open it? Did it work?" |
| **Current reality** | **There is no feedback loop for the sender.** Once the link is copied, the sender has no visibility into whether the recipient opened the link, downloaded the file, or encountered any errors. The event data (download count, view count) exists on the backend but is not surfaced to the sender in real-time. |
| **Trail signal** | (Future) Sender returns to check status, time between send and check |

---

## 2. Recipient Journey Map (End-to-End)

The recipient is the person who receives a link from the sender and needs to access the file or text.

### Stage R1: Receive Link

| Field | Value |
|-------|-------|
| **Channel** | Email, messaging app, or other out-of-band communication |
| **What the user sees** | A URL like `send.sgraph.ai/send/v0/v0.1/v0.1.3/download.html#{transferId}/{key}` |
| **User's mental model** | "Someone sent me a link to download something." |
| **Current reality** | The URL is long and contains version path segments (`v0/v0.1/v0.1.3`), which looks technical and may reduce trust. The hash fragment is opaque (a transfer ID and base64url key concatenated). In messaging apps, the URL may be truncated or the hash fragment stripped. Email clients may wrap it across lines, breaking the hash. |
| **Trail signal** | (Cannot observe -- happens outside our system) |

### Stage R2: Open Link

| Field | Value |
|-------|-------|
| **What the user sees** | The download page loads. Header: "SGraph Send" / "Zero-knowledge encrypted file sharing". A card showing: "Encrypted file" (or "Encrypted text"), file size, upload timestamp, download count. Below: a "Decryption key" input field (pre-filled if the key was in the hash) and a "Download & Decrypt" (or "Decrypt & View") button. Below that: a CTA section "Want to send files too?" with a LaunchList signup form. |
| **User's mental model** | "I need to click a button to get the file." |
| **Current reality** | If the combined URL worked correctly, the key is auto-populated in the input field. The user just needs to click one button. This is reasonably smooth. However: (a) the page title says "SGraph Send -- Download" which is generic; (b) there is no explanation of what is happening or why; (c) if the hash was stripped during transit, the user sees an empty key field and the message "Decryption key: Paste the decryption key here" -- they now need to contact the sender; (d) there is no indication that this is a one-time or limited-access file; (e) the CTA section appears immediately, before the user has even downloaded -- this is premature and distracting. |
| **Trail signal** | Page load event with transfer ID, key present (yes/no), user-agent, referrer |

### Stage R3: Decrypt & Download

| Field | Value |
|-------|-------|
| **What the user sees** | After clicking the button: "Downloading and decrypting..." with a progress bar. Then either: the file auto-downloads (with filename "download"), or decrypted text is displayed in a `<pre>` block with "Copy to clipboard" and "Download as file" buttons. A transparency panel appears. |
| **User's mental model** | "The file should appear on my computer." |
| **Current reality** | For files: the download works but the filename is always "download" (line 279 in send-download.js: `a.download = 'download'`). The original filename is never sent to the server (by design), so the recipient gets a generic name. This is correct from a security standpoint but creates friction -- the user has to rename the file manually. For text: the display is clean and functional, with copy and download options. The `history.replaceState` that clears the hash (line 250-252) is a good security practice but means the user cannot refresh the page to try again. |
| **Trail signal** | Download start timestamp, decrypt success/failure, error type if failed, text vs file content type |

### Stage R4: Verify & Use

| Field | Value |
|-------|-------|
| **What the user sees** | Success message ("File decrypted and saved successfully." or "Text decrypted successfully."). Transparency panel showing what was stored about the download. |
| **User's mental model** | "Did I get the right file? Is it intact?" |
| **Current reality** | **There is no verification mechanism.** The recipient has no way to confirm the file is the one the sender intended. No checksum, no preview, no file type indicator beyond what the browser infers. For text, the user can at least read it immediately. For files, they must open it and check. |
| **Trail signal** | Time between download and page close, transparency panel interaction |

---

## 3. Friction Log: Real User Feedback (13 Feb 2026)

### Friction F001: "What do I do? What is this for?"

| Field | Value |
|-------|-------|
| **ID** | F001 |
| **Severity** | HIGH |
| **Persona** | First-time user, non-technical |
| **Stage** | S1 (Land) |
| **Action attempted** | Understand what the page does |
| **Expected outcome** | Clear explanation within 5 seconds |
| **Actual outcome** | Confusion. User did not understand the purpose of the page. |
| **Root cause** | No onboarding content. The subtitle "Zero-knowledge encrypted file sharing" uses jargon. No step-by-step guide, no diagram, no use-case examples. |
| **Resolution** | Pending -- Brief #1 requests explanatory landing page content (P2, assigned to Designer + Journalist + Advocate). |
| **Cross-references** | Brief #1 "Explain What the Service Does"; Journalist content plan for landing page copy. |

### Friction F002: "Too many steps"

| Field | Value |
|-------|-------|
| **ID** | F002 |
| **Severity** | HIGH (now partially resolved) |
| **Persona** | First-time user |
| **Stage** | S6 (Share) |
| **Action attempted** | Share the encrypted file with a recipient |
| **Expected outcome** | One action: copy a single link and send it |
| **Actual outcome** | Originally required: copy link, copy key, send both separately via different channels. |
| **Root cause** | The original design required split-channel key sharing for maximum security. This is cryptographically correct but operationally impractical for most users. |
| **Resolution** | **Partially resolved in v0.1.2+.** The hash-fragment URL (`#{transferId}/{key}`) now provides a single combined link as the primary option. The split-channel option is preserved as "Share key separately" toggle for power users. Decision D014 (Architect + AppSec approved). |
| **Residual friction** | Still no email sharing (copy text, Gmail link). Still requires manual paste into messaging/email. |
| **Cross-references** | Brief #1 hash-fragment proposal; Architect D014; AppSec security review. |

### Friction F003: Download link not drag-and-droppable

| Field | Value |
|-------|-------|
| **ID** | F003 |
| **Severity** | MEDIUM |
| **Persona** | First-time user |
| **Stage** | S6 (Share) |
| **Action attempted** | Drag the download link into an email compose window |
| **Expected outcome** | The link appears in the email body |
| **Actual outcome** | The link text is displayed in a `<span>` element (class "value"), not in a draggable `<a>` element. The "Copy link" button is the only sharing mechanism. |
| **Root cause** | The result link is rendered as a text span, not a hyperlink. There is no `<a href="...">` wrapping the URL, so browser-native drag behaviour is not available. |
| **Resolution** | Pending -- Brief #1 requests fix (P2, assigned to Dev). |
| **Cross-references** | Brief #1 "Fix Drag-and-Drop of Download Link". |

### Friction F004: Domain confusion (.ai)

| Field | Value |
|-------|-------|
| **ID** | F004 |
| **Severity** | LOW (product-level, not flow-level) |
| **Persona** | First-time user |
| **Stage** | S1 (Land) |
| **Action attempted** | Understand the service |
| **Expected outcome** | The domain reinforces trust and clarity |
| **Actual outcome** | User asked "why .ai? What are you doing with AI?" -- the .ai domain creates an expectation of AI features that the product does not provide. |
| **Root cause** | SGraph Send is built by an agentic AI team but does not use AI inline. The .ai TLD signals AI capability to users. |
| **Resolution** | Pending -- flagged as user research question. Both `sgraph.ai` and `sgraph.com` are available. |
| **Cross-references** | Brief #1 domain preference question; assigned to Advocate + Sherpa + Ambassador. |

---

## 4. Friction Log: UI Code Analysis (Sherpa's Own Assessment)

### Friction F005: Generic download filename

| Field | Value |
|-------|-------|
| **ID** | F005 |
| **Severity** | HIGH |
| **Persona** | All recipients |
| **Stage** | R3 (Decrypt & Download) |
| **Action attempted** | Download a decrypted file |
| **Expected outcome** | File downloads with a meaningful name (or at least a content-type-appropriate extension) |
| **Actual outcome** | File downloads as "download" (no extension). Code: `a.download = 'download'` (send-download.js, line 279). |
| **Root cause** | By zero-knowledge design, the original filename is never sent to the server. The download component has no knowledge of what the file was called. |
| **Resolution proposal** | Include a content-type-based extension hint. The `content_type_hint` is stored on the transfer and available via `getTransferInfo()`. Use it to generate at least `download.pdf`, `download.png`, etc. Alternatively, allow the sender to optionally include the filename in the hash fragment (encrypted with the key). |
| **Cross-references** | Architect review needed -- does including filename metadata in the encrypted payload or hash fragment violate the zero-knowledge model? |

### Friction F006: URL contains version path segments

| Field | Value |
|-------|-------|
| **ID** | F006 |
| **Severity** | MEDIUM |
| **Persona** | All recipients |
| **Stage** | R1 (Receive Link) / R2 (Open Link) |
| **Action attempted** | Trust and click a received link |
| **Expected outcome** | A clean, professional URL like `send.sgraph.ai/d/{id}#{key}` |
| **Actual outcome** | The URL is `send.sgraph.ai/send/v0/v0.1/v0.1.3/download.html#{id}/{key}` -- it contains version path segments and a `.html` extension, making it look technical and potentially untrustworthy. |
| **Root cause** | The download page lives at the IFD versioned path. The URL construction is hardcoded in `buildCombinedUrl()` (send-upload.js, line 374). |
| **Resolution proposal** | Add a URL rewrite or redirect so that a clean path like `/d/{id}` resolves to the latest versioned download page. The IFD versioning can continue to work internally while users see a clean URL. |
| **Cross-references** | Architect + DevOps -- URL routing change needed. IFD methodology must be preserved. |

### Friction F007: No explanation of zero-knowledge concept

| Field | Value |
|-------|-------|
| **ID** | F007 |
| **Severity** | MEDIUM |
| **Persona** | All first-time users |
| **Stage** | S1 (Land), S4 (Select Content), R2 (Open Link) |
| **Action attempted** | Understand what "zero-knowledge" means and why it matters |
| **Expected outcome** | A brief, plain-language explanation: "We encrypt your file in your browser. We never see the contents. Only you and your recipient can read it." |
| **Actual outcome** | The term "zero-knowledge" appears once in the subtitle and once as "Encrypted in your browser before upload" in the drop zone hint. Neither explains the concept in user-friendly terms. |
| **Root cause** | No onboarding or educational content has been created yet. |
| **Resolution proposal** | Part of the landing page content work (Brief #1, P2). The Sherpa recommends a 3-sentence explanation visible without scrolling, plus an expandable "How does this work?" section for curious users. |
| **Cross-references** | Brief #1 "Explain What the Service Does"; Journalist content plan. |

### Friction F008: CTA on download page appears before download completes

| Field | Value |
|-------|-------|
| **ID** | F008 |
| **Severity** | MEDIUM |
| **Persona** | All recipients |
| **Stage** | R2 (Open Link) |
| **Action attempted** | Download a file |
| **Expected outcome** | Focus on the download task; CTA appears after completion |
| **Actual outcome** | The "Want to send files too?" CTA with a LaunchList signup form is visible immediately on page load, before the user has even clicked "Download & Decrypt". This is a distraction from the primary task. |
| **Root cause** | The CTA section is static HTML, always visible regardless of download state. |
| **Resolution proposal** | Hide the CTA until the download/decrypt flow completes successfully. Show it in the success state, when the user has experienced the value and is most receptive to signing up. |
| **Cross-references** | Ambassador -- this is a viral loop touchpoint. Timing matters: show it when the user is impressed, not when they are busy. |

### Friction F009: No error recovery guidance

| Field | Value |
|-------|-------|
| **ID** | F009 |
| **Severity** | MEDIUM |
| **Persona** | All users |
| **Stage** | S5 (Encrypt & Upload), R3 (Decrypt & Download) |
| **Action attempted** | Recover from an error |
| **Expected outcome** | Error message explains what happened AND what to do next |
| **Actual outcome** | Error messages are functional but not guiding. Examples: "Upload failed. Please try again." (no suggestion of what to check), "Transfer not found. The link may have expired." (no guidance on contacting the sender), "Wrong decryption key. Please check and try again." (no guidance on where to get the right key). |
| **Root cause** | Error messages were written for technical clarity, not user guidance. |
| **Resolution proposal** | Rewrite every error message to follow the pattern: "[What happened]. [Why it might have happened]. [What to do next]." Example: "Transfer not found. This link may have expired or been removed. Please ask the sender for a new link." |
| **Cross-references** | Sherpa quality gate: "Error messages explain what happened AND what to do next -- never generic failures." Journalist should write the final copy. |

### Friction F010: Progress bar is not real-time

| Field | Value |
|-------|-------|
| **ID** | F010 |
| **Severity** | LOW |
| **Persona** | Users sending large files |
| **Stage** | S5 (Encrypt & Upload) |
| **Action attempted** | Monitor upload progress |
| **Expected outcome** | Smooth, incremental progress bar reflecting actual bytes processed |
| **Actual outcome** | Progress jumps from 0% to 33% (encrypting) to 66% (uploading) to 100% (complete). For small files, this flashes by. For large files, it sits at a fixed percentage for an extended period. |
| **Root cause** | The progress bar uses hardcoded percentage values for each state, not actual byte-level tracking. The `fetch()` API does not natively report upload progress. |
| **Resolution proposal** | For encryption: use a Web Worker with progress callback if available. For upload: use XMLHttpRequest (which supports `upload.onprogress`) or the Streams API. Alternatively, add time-based estimation ("About 10 seconds remaining"). |
| **Cross-references** | Dev implementation detail. |

### Friction F011: Transparency panel text is not internationalised (v0.1.0)

| Field | Value |
|-------|-------|
| **ID** | F011 |
| **Severity** | LOW |
| **Persona** | Non-English speaking users |
| **Stage** | S6 (Share), R4 (Verify & Use) |
| **Action attempted** | Understand what the server stored |
| **Expected outcome** | Transparency panel in the user's language |
| **Actual outcome** | The `send-transparency.js` component (v0.1.0) has hardcoded English strings: "What we stored about this transfer", "Your IP address", "File name", "NOT stored", etc. It does not use the i18n system introduced in v0.1.3. |
| **Root cause** | The transparency component was created in v0.1.0, before the i18n system existed. It has not been updated to use `I18n.t()`. |
| **Resolution proposal** | Update `send-transparency.js` to use the i18n system. Add transparency strings to the i18n string table. |
| **Cross-references** | i18n foundation work (Brief #1, D017). |

### Friction F012: Access gate strings are not internationalised

| Field | Value |
|-------|-------|
| **ID** | F012 |
| **Severity** | LOW |
| **Persona** | Non-English speaking users |
| **Stage** | S2 (Authenticate) |
| **Action attempted** | Enter access token in their language |
| **Expected outcome** | Gate UI in the user's language |
| **Actual outcome** | The `send-access-gate.js` component (v0.1.0) has hardcoded English strings: "Beta Access", "Enter your access token to start sending files.", "Invalid or missing token.", "Join the Early Access Program", etc. |
| **Root cause** | Same as F011 -- created before i18n existed. |
| **Resolution proposal** | Update to use i18n. Lower priority than F011 since the gate is transitional. |
| **Cross-references** | i18n foundation work. |

### Friction F013: Test files section on production page

| Field | Value |
|-------|-------|
| **ID** | F013 |
| **Severity** | LOW |
| **Persona** | All first-time users |
| **Stage** | S4 (Select Content) |
| **Action attempted** | Understand the interface |
| **Expected outcome** | A clean upload interface focused on the task |
| **Actual outcome** | A "Test Files" section appears below the upload zone with downloadable test files (`test-text.txt`, `test-data.json`). This is useful during development and beta testing but may confuse production users ("Is this a test environment?"). |
| **Root cause** | The test files section is part of the production page template (index.html, lines 19-28). |
| **Resolution proposal** | Either (a) hide behind a developer/debug flag, (b) move to a separate testing page, or (c) reframe as "Try it out" with friendlier language. The Sherpa recommends option (c) for the friendlies programme -- keep it but reframe it as a guided first experience. |
| **Cross-references** | Friendlies programme -- test files can serve as the guided first-use content. |

---

## 5. Friction Severity Summary

| Severity | Count | IDs |
|----------|-------|-----|
| **HIGH** | 3 | F001, F002, F005 |
| **MEDIUM** | 5 | F003, F006, F007, F008, F009 |
| **LOW** | 5 | F004, F010, F011, F012, F013 |

### Priority Ranking (by impact on first-time user success)

1. **F001** -- No explanation of what the service does (blocks comprehension)
2. **F005** -- Generic download filename (degrades recipient experience every time)
3. **F002** -- Too many sharing steps (partially resolved by hash-fragment URLs)
4. **F006** -- Technical-looking URLs reduce trust
5. **F009** -- Error messages do not guide recovery
6. **F007** -- No explanation of zero-knowledge concept
7. **F008** -- CTA appears before download completes (misses optimal timing)
8. **F003** -- Download link not draggable
9. **F004** -- Domain confusion (.ai)
10. **F011** -- Transparency panel not i18n-ready
11. **F012** -- Access gate not i18n-ready
12. **F010** -- Progress bar not real-time
13. **F013** -- Test files on production page

---

## 6. Key Observations for the Team

### For the Architect
- F005 (generic filename) and F006 (versioned URLs) both require architectural decisions. Should the filename be embedded in the encrypted payload? Should URL routing abstract the IFD version path?

### For Dev
- F003 (drag-and-drop link) is a quick fix: wrap the URL in an `<a>` tag instead of a `<span>`.
- F008 (CTA timing) is a quick fix: conditionally render the CTA based on download state.
- F009 (error messages) is a content task more than a code task -- the i18n strings need rewriting.

### For the Journalist
- F001 (landing page explanation), F007 (zero-knowledge explanation), and F009 (error messages) all need user-facing copy. These should go through the i18n system from the start.

### For the Advocate
- The friction pattern is clear: the product works but does not explain itself. The core utility ("send a file, securely") needs to be the first thing a user sees and understands. The security model is the reason to trust it, not the reason to use it.

### For QA
- Each friction point maps to a testable scenario. F005, F006, F008, F009, F011, and F012 can all be verified with automated tests or synthetic user scripts.

---

*SGraph Send Sherpa -- First-Time User Journey Map & Friction Log*
*First activation -- baseline established*
