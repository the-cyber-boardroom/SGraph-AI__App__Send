# v0.4.12 -- Incident Record: INC-004 Token Value in Documentation

**Version:** v0.4.12
**Date:** 19 February 2026
**Role:** Historian
**Type:** Incident record (meta-incident)
**Related:** [INC-003 record](v0.4.12__incident-record__INC-003__access-token-leak-hotfix.md)

---

## Summary

**INC-004: Live access token published in incident documentation**

While documenting INC-003 (the access token leak in shareable URLs), three role documents (Journalist, Historian, Librarian) included the actual live token value in their example URLs. Three pre-existing files (from the 17 Feb security review) also contained the same token value. All six files were pushed to GitHub on a public-facing branch.

**Timeline:**

| Time (19 Feb) | Event |
|---------------|-------|
| ~15:45 | INC-003 role documents committed with live token in example URLs |
| ~15:50 | Documents pushed to GitHub (branch: `claude/read-explorer-guidance-StQko`) |
| ~16:00 | Human spots the token value in the Journalist article during review |
| ~16:00 | Classified as P4 (documentation, token already in git history from INC-003 URLs), treated as P1 |
| ~16:02 | Grep confirms 6 files contain the token value (3 new + 3 pre-existing) |
| ~16:04 | All 6 files redacted: token replaced with `[REDACTED]` |
| ~16:04 | Redaction committed and pushed |

**Total elapsed time from discovery to fix: ~4 minutes.**

---

## M017: Meta-Incident -- Documentation Leaks What It Documents

**Date:** 19 February 2026
**Significance:** The first meta-incident -- an incident report itself causing a (minor) security issue. This is a known class of problem in incident response, but experiencing it firsthand creates a durable lesson.

**Why this matters:**

1. **The documentation pipeline has no credential scanning.** Six files containing a live token passed through the entire creation-review-commit-push pipeline without automated detection. The human caught it during manual review.

2. **Pre-existing files were already exposed.** Three files from the 17 Feb security review (daily brief, GRC risk analysis, user feedback brief) had contained the token value for two days. INC-004 didn't introduce the exposure -- it amplified it by adding three more files and bringing it to attention.

3. **Git history preserves the token.** Even after redaction, the token value exists in git history on multiple branches. Redaction in HEAD is necessary but not sufficient. The token should be rotated.

4. **The irony is instructive.** Writing about a token leak while leaking the token is exactly the kind of second-order failure that incident response processes should anticipate. The lesson: treat token values as secrets even in documentation contexts. Use `[REDACTED]` or synthetic examples from the start.

**Cumulative milestone count: M001-M017 (17 milestones in 8 working days).**

---

## Decisions

### D074-D076

| ID | Decision | Rationale |
|----|----------|-----------|
| D074 | **All documentation must use `[REDACTED]` for real token values, never the actual value** | Even in internal documentation, real credentials create exposure risk through git history, branch sharing, and future publication. Use synthetic placeholders (e.g., `example-token`) or `[REDACTED]`. |
| D075 | **Token rotation is now required** | The token value has been in git history since the 17 Feb briefs. Redacting HEAD is insufficient. The token must be rotated. |
| D076 | **Content release pipeline needs credential scanning** | No automated check exists for credentials in documentation files. A pre-commit hook or CI step should scan for known token patterns in markdown and text files before they reach any branch. |

**Cumulative decision count: D001-D076 (76 decisions).**

---

## Pattern 20: The Documentation Leak Paradox

**First observed:** 19 February 2026
**Description:** When documenting a credential leak, the natural instinct is to include the actual credential as evidence. This creates a secondary leak. The more thorough the documentation (with real URLs, real values, real examples), the greater the secondary exposure.

**Mitigation:** Establish a convention that all documentation uses `[REDACTED]` for real credentials from the moment of writing, not as a post-hoc cleanup. Treat documentation as a publication pipeline, not an internal-only artefact.

**Historical note:** This pattern is well-known in the security industry (incident reports that leak the incident data), but experiencing it firsthand -- within 30 minutes of fixing the original leak -- makes the lesson visceral rather than theoretical.

**Cumulative named patterns: 24** (20 numbered + 4 lettered).

---

## Open Questions

| ID | Question | Status |
|----|----------|--------|
| Q017 | Should git history be rewritten to remove the token value, or is rotation sufficient? | Open -- git history rewrite is destructive; rotation is simpler but the value remains discoverable |
| Q018 | Should a pre-commit hook scan documentation files for known token patterns? | Open -- trade-off between false positives (token-like strings in explanatory text) and real protection |

---

## Connection to INC-003

INC-003 and INC-004 form a pair:

- **INC-003:** Code leaked a token in URLs. Fix: remove token from code paths.
- **INC-004:** Documentation leaked the same token in example text. Fix: redact token from docs.

Both share the same root cause: **treating token values as non-sensitive data.** In INC-003, the developer treated the token as a URL parameter. In INC-004, the documenter treated the token as an illustrative example. Both assumed the value wasn't sensitive in that context. Both were wrong.

The deeper lesson: **a credential is sensitive in every context, not just its original context.**

---

*Historian INC-004 record complete. M017 logged, D074-D076 recorded, Pattern 20 identified, Q017-Q018 raised. Elapsed time from discovery to full documentation: ~10 minutes.*
