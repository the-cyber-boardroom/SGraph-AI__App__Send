# v0.3.10 -- DPO Response to Daily Briefs (15 Feb 2026)

**Version:** v0.3.10
**Date:** 2026-02-15
**Role:** DPO (Data Protection Officer)
**Context:** Response to all 15 Feb briefs:
- `team/humans/dinis_cruz/briefs/02/15/v0.3.10__daily-brief__explorer-team-15-feb-2026.md`
- `team/humans/dinis_cruz/briefs/02/15/v0.3.12__briefs__file-transfer-engine-architecture-and-research.md`
- `team/humans/dinis_cruz/briefs/02/15/aws-setup/v0.3.6__aws-observability-brief.md`
- `team/humans/dinis_cruz/briefs/02/15/aws-setup/v0.3.6__devops__aws-observability-setup-guide.md`
**Continues from:** `team/roles/dpo/reviews/26-02-14/v0.3.2__response-to-daily-brief__14-feb.md`

---

## 1. AWS Observability Pipeline -- Data Protection Review

This is the most significant item from a DPO perspective. The observability setup guide (v0.3.6) configures logging across the entire AWS infrastructure. This is exactly the kind of activity the DPO must review.

### 1.1 The Good News: Privacy by Design Worked

The 15 Feb daily brief explicitly states: "When configuring the AWS logging, the DPO role was keeping an eye on the brief, and the DevOps configuration that went into AWS made sure we don't capture IP addresses or other sensitive data in the logs."

This is the model working as intended. The DPO's presence in the team influenced the DevOps configuration *before* it was deployed, not after. The result is an observability setup that is comprehensive (15 data sources) while explicitly excluding end-user IP addresses.

**DPO assessment: this is the strongest evidence to date that data protection by design is operational in this project.**

### 1.2 Detailed Review of the Observability Setup

The setup guide (v0.3.6) configures 15 data sources. I have reviewed each:

| # | Service | Personal Data Risk | DPO Assessment |
|---|---------|-------------------|----------------|
| 1 | CloudFront Real-Time Logs | **CONTROLLED** -- `c-ip`, `c-port`, `x-forwarded-for`, `c-ip-version` explicitly excluded | **Adequate.** The field-level exclusion of IP-related fields is the correct approach. User-agent strings remain, which are pseudonymising in aggregate but rarely identifying individually. |
| 2 | CloudFront Additional Metrics | None -- aggregate metrics | **No concern.** |
| 3 | CloudFront Response Headers | N/A -- outbound only | **Positive.** `Referrer-Policy: no-referrer` prevents encryption key leakage via Referrer header. This closes AppSec threat T8 and has data protection benefit (prevents URL leakage). |
| 4 | WAF | Currently not used | **Noted.** If enabled in future, WAF sampled requests show full headers including IP for 3 hours in the console. DPO review required before WAF activation. |
| 5 | X-Ray Tracing | None -- request IDs and timing only | **No concern.** |
| 6 | Lambda Insights | None -- system metrics only | **No concern.** |
| 7 | CloudWatch Logs Retention | **CONTROLLED** -- app output hashes IPs before logging | **Adequate.** 30-day retention is reasonable. The app-level IP hashing means CloudWatch logs contain `ip_hash`, not raw IPs. |
| 8 | CloudTrail Data Events | None -- captures Lambda/CF IPs, not user IPs | **No concern.** But note: CloudTrail events retain for 90 days by default. |
| 9 | S3 Access Logging | None -- requester is Lambda execution environment | **No concern.** |
| 10 | S3 Request Metrics | None -- aggregate | **No concern.** |
| 11 | S3 Storage Lens | None | **No concern.** |
| 12 | AWS Budgets | None | **No concern.** |
| 13 | Cost Anomaly Detection | None | **No concern.** |
| 14 | Lambda Concurrency Limits | None -- operational control | **No concern.** |
| 15 | Contributor Insights | **CAUTION** -- reads from Lambda log groups | **Conditional.** If Lambda logs contain any personal data beyond hashed IPs, Contributor Insights will surface it. Current app hashes IPs before logging, so this is safe *as long as no future code change introduces unhashed personal data into logs*. |

### 1.3 CloudFront Real-Time Logs: Specific Data Protection Notes

The decision to use Real-Time Logs instead of Standard Logs is data-protection-motivated: Standard Logs always include `c-ip` with no exclusion option. Real-Time Logs allow field-level selection. This is an excellent design choice.

**Fields that remain and their data protection status:**

- **`cs-user-agent`**: Browser user-agent strings are pseudonymising data. In rare cases (highly customised browsers, unusual OS versions), a user-agent string could contribute to fingerprinting. However, user-agent strings alone are not personal data under UK GDPR. The risk is **LOW** and the operational value is high (identifying browser compatibility issues).
- **`cs-referer`**: Could contain sensitive information if the referring page URL includes query parameters or fragments. The `Referrer-Policy: no-referrer` header (Step 3 of the setup) should prevent the browser from sending a Referrer header, but this only applies to navigations *from* our site, not *to* our site. Referrers from external sites may still appear. The risk is **LOW** -- our URLs do not contain personal data in the path.
- **`cs-uri-stem` and `cs-uri-query`**: URL paths contain transfer IDs and token names. Transfer IDs are cryptographically random and not personal data. Token names (e.g., `community-beta-2025`) are shared secrets, not personal identifiers. **No concern.**
- **`c-country` was explicitly excluded.** The setup guide notes this is a deliberate choice. While country alone is not PII, excluding it demonstrates the principle of data minimisation. If country-level analytics are needed later, this can be revisited with DPO approval.

### 1.4 One Identified Risk: WAF Sampled Requests

The setup guide correctly notes: "WAF sampled requests in the AWS Console show the last 3 hours of requests with full headers (including IP) for debugging. These are ephemeral and not persisted, but they are visible to anyone with WAF console access."

WAF is currently marked as not in use due to incompatibility with CloudFront real-time logs. If WAF is activated in the future:

- **IAM access to the WAF console must be restricted.** Only individuals who need to see full request headers for debugging should have access.
- **The 3-hour ephemeral window still constitutes processing of personal data.** Even ephemeral display of IP addresses in a console is processing under GDPR Article 4(2).
- **DPO must review before WAF is enabled.**

### 1.5 DPO Sign-Off on Observability Setup

**The DPO approves the AWS observability configuration as described in v0.3.6.** The configuration demonstrates data protection by design: comprehensive observability without capturing end-user IP addresses. The field-level exclusion in CloudFront Real-Time Logs is the correct technical control.

**Conditions for ongoing compliance:**
1. No future CloudFront log configuration change should add `c-ip`, `c-port`, `x-forwarded-for`, or `c-ip-version` without DPO review.
2. Any new Lambda code that writes to CloudWatch logs must hash IP addresses before logging (the existing `hash_ip()` pattern).
3. WAF activation requires DPO review.
4. CloudWatch Logs retention should remain at 30 days unless a documented business need justifies longer retention.

---

## 2. CloudFront Log Processing Pipeline -- DPO Assessment

The observability brief (v0.3.6) describes a future CloudFront log collector (Phase 2, section 6.1) that would:

1. List new log files in the CloudFront log bucket
2. Download and decompress each file
3. Parse each log line into a structured event
4. **Hash IP addresses (privacy requirement from DPO)**
5. Write events to cache service

**DPO note:** Since the Real-Time Logs configuration already excludes `c-ip`, step 4 (hashing IP addresses) is not needed for the Real-Time Log pipeline -- there are no IP addresses to hash. The brief's reference to IP hashing suggests the author was considering Standard Logs. This should be clarified in the implementation.

If Standard Logs are ever used alongside or instead of Real-Time Logs, IP hashing at ingestion is mandatory. But with the current Real-Time Log configuration, the log collector will not encounter IP addresses.

---

## 3. Server Analytics (SA) Pipeline -- Data Protection Implications

The daily brief describes the SA pipeline: LETS (Load, Extract, Transform, Save) with two data types: event-driven (logs) and collected (API calls).

### 3.1 Event-Driven Data

The event-driven data comes from CloudFront Real-Time Logs (no IPs), CloudWatch logs (IPs hashed), CloudTrail (Lambda IPs, not user IPs), and S3 access logs (Lambda IPs). **No additional personal data processing** beyond what is already approved.

The S3-triggered Lambda transformation pattern (raw logs processed into curated versions stored in cache service) is a good data minimisation practice -- raw logs with potentially more data than needed are compressed into only the meaningful data points.

### 3.2 Collected Data (API Calls)

This data (Lambda configurations, CloudFront settings, S3 bucket settings) is infrastructure metadata. **No personal data involved.** No DPO concern.

### 3.3 The Digital Twin

The brief describes building a "digital twin of the AWS environment" by combining event and state data over time. This is infrastructure observability data. **No personal data concern** as long as the event data does not contain personal data, which the field exclusions ensure.

---

## 4. File Transfer Engine Brief -- Data Protection Review

The file transfer engine brief (v0.3.12) describes the architecture for a chunked, resumable, multi-runtime file transfer engine. This has several data protection implications.

### 4.1 Transfer Manifest -- Personal Data Assessment

The transfer manifest is a JSON document stored in the cache service. Reviewing its fields:

| Field | Personal Data? | Assessment |
|-------|---------------|------------|
| `transfer_id` | No | Cryptographically random |
| `file.name` | **Potentially** | Original file name could contain personal data (e.g., "John-Smith-CV.pdf"). The current system does not send file names to the server. The manifest must maintain this. |
| `file.content_hash` | No | Hash of encrypted content |
| `chunks.checksums` | No | Hashes of encrypted chunks |
| `timing.*` | No | Operational metrics |
| `encryption_metadata.wrapped_key` | No | Encrypted key material |

**Critical concern:** The transfer manifest example includes `"name": "quarterly-report.pdf"`. The current SGraph Send architecture explicitly does NOT send the original file name to the server. If the new transfer engine changes this and starts including file names in the manifest, this is a regression in privacy posture.

**DPO requirement:** The transfer manifest MUST NOT include the original file name unless it is encrypted. File names can reveal personal data about the sender, recipient, or file subject. The file name should either be excluded from the manifest or encrypted along with the file content.

### 4.2 Compression Before Encryption

The brief correctly specifies: **compress then encrypt** (never encrypt then compress). This is cryptographically correct and has no data protection implication beyond ensuring the encryption remains effective.

### 4.3 Browser-Side Storage (IndexedDB/OPFS)

The brief proposes storing files in IndexedDB or OPFS for resilience (Maturity 2+). From a data protection perspective:

- This storage is entirely client-side, under the user's control.
- SGraph does not process or access this data.
- No GDPR obligation for SGraph (same analysis as localStorage in v0.2.33 review).
- **However**, the transparency principle still applies: users should know that large files are being cached on their device, how to clear them, and how much space is used.
- For shared/public devices, this is a potential privacy risk -- if a user uploads a sensitive file on a public computer, the file remains in IndexedDB after the tab is closed. The zero-storage mode (recommended as default in v0.2.33) should extend to IndexedDB/OPFS.

### 4.4 Three-Word Keys

The brief proposes three-word passphrases (e.g., `sunset-bicycle-ocean`) as an alternative to complex keys. From a data protection perspective:

- **Lower entropy does not change the data protection analysis** -- it changes the security strength, which is AppSec's domain.
- **The DPO concern is with the UX claim.** If we market three-word keys as "secure," the privacy notice must not overstate the protection level. Transparency requires honest representation of what the encryption provides.
- If three words derive both the lookup key and the decryption key, a brute-force attack against the lookup mechanism also yields the decryption key. AppSec should evaluate this, but the DPO notes that any marketing language about "encryption" must accurately reflect the actual protection level.

### 4.5 WebRTC Peer-to-Peer

If implemented, WebRTC peer-to-peer transfers are ideal from a data protection perspective:

- **File data never touches the server.** The server only handles signalling.
- **Zero-knowledge is absolute** in P2P mode -- the server cannot see the data even in plaintext.
- **STUN/TURN servers** used for NAT traversal may see IP addresses. If using a third-party TURN service, that service becomes a data processor for IP addresses. Self-hosted TURN avoids this.

### 4.6 Multi-Runtime / NPM Package

If the transfer engine is published as an NPM package (`@sgraph/transfer-engine`), third parties using it are controllers of their own data processing. SGraph's privacy obligations do not extend to third-party users of the library. However, the package documentation should not make privacy claims about SGraph Send that are specific to our deployment.

---

## 5. User Feedback Collection -- Data Protection Implications

The Explorer brief (via the 14 Feb explorer team brief carried forward) proposes structured user feedback collection. This is a new personal data processing activity.

### 5.1 What Data Is Involved

- **In-app ratings/comments**: User-generated content, linked to a session. If the user provides free-text feedback, it may contain personal data.
- **Email follow-up**: Requires an email address. This is personal data.
- **Direct conversation**: Personal data of the user (name, opinions, feedback).

### 5.2 Lawful Basis

- **In-app feedback**: Consent (user voluntarily submits). Must be optional, not required to use the service.
- **Email follow-up**: Consent (user must opt in). PECR applies to commercial emails.
- **Direct conversation**: Consent (user agrees to be contacted).

### 5.3 DPO Requirements

Before the feedback collection feature launches:

1. **Privacy notice must be updated** to disclose feedback collection, purpose, and retention.
2. **Feedback data retention period** must be defined.
3. **Data subject rights** must be exercisable against feedback data (access, erasure).
4. **If feedback data is used for product decisions**, this is compatible with the original purpose (consent for product improvement). If used for marketing (testimonials, case studies), separate consent is needed.

This is a P2 action -- it does not block current work but must be addressed before the feature launches.

---

## 6. Impact on Open Actions

### 6.1 Actions Closed

| # | Action | Resolution |
|---|--------|------------|
| 6 | Review CloudFront log data protection before production deployment | **PARTIALLY CLOSED.** The CloudFront Real-Time Log configuration has been reviewed and approved. The field-level IP exclusion is adequate. Remaining: review of the Villager's production CloudFront configuration specifically (may differ from Explorer). Renamed to action 6b. |

### 6.2 Actions Updated

| # | Action | Previous Priority | Updated Priority | Notes |
|---|--------|-------------------|------------------|-------|
| 5 | Review server-side analytics data map | P1 | P1 | Now more urgent -- SA pipeline is being built. Need to map all data flows. |
| 7 | Document lawful basis for server-side analytics | P1 | P1 | SA pipeline goes well beyond basic request logging. LIA needed. |

### 6.3 New Actions from 15 Feb Briefs

| # | Action | Priority | Owner | Rationale |
|---|--------|----------|-------|-----------|
| N5 | **Ensure transfer manifest does NOT include plaintext file names** | P1 | DPO/Architect | Regression risk from file transfer engine brief. File names are currently excluded by design. |
| N6 | **Review feedback collection feature for privacy compliance before launch** | P2 | DPO/Advocate | New personal data processing activity. |
| N7 | **Extend zero-storage mode to IndexedDB/OPFS in file transfer engine** | P2 | DPO/Dev | Public/shared device privacy risk. |
| N8 | **Ensure no future CloudFront log config adds IP fields without DPO review** | P2 | DPO/DevOps | Ongoing governance control. |
| N9 | **Review STUN/TURN data processing if WebRTC P2P is implemented** | P3 | DPO/Architect | Third-party TURN services process IP addresses. |

---

## 7. Consolidated Action List

| # | Action | Priority | Owner | Status |
|---|--------|----------|-------|--------|
| 2 | Draft privacy policy | P1 | DPO/Journalist | OPEN |
| 3 | Document lawful basis for IP hash storage (LIA) | P1 | DPO | OPEN |
| 4 | Review LaunchList DPA terms | P1 | DPO | OPEN |
| 5 | Review server-side analytics data map (SA pipeline) | P1 | DPO/Architect | OPEN |
| N5 | Ensure transfer manifest excludes plaintext file names | P1 | DPO/Architect | NEW |
| 6b | Review Villager production CloudFront config specifically | P1 | DPO/DevOps | UPDATED from #6 |
| 7 | Document lawful basis for server-side analytics (LIA) | P1 | DPO | OPEN |
| 8 | Approve privacy policy before publication | P1 | DPO/Journalist | BLOCKED by #2 |
| N1 | DPO review of Villager production data handling | P1 | DPO/DevOps | OPEN |
| 9 | Update data processor register | P2 | DPO | OPEN |
| 10 | Review transparency panel disclosures | P2 | DPO/Dev | OPEN |
| 11 | Review event data exposure in UI | P2 | DPO | OPEN |
| N2 | Review unencrypted mode DPIA if feature progresses | P2 | DPO/AppSec | OPEN |
| N3 | Ensure design agency materials are free of personal data | P2 | DPO/Designer | OPEN |
| N6 | Review feedback collection privacy compliance | P2 | DPO/Advocate | NEW |
| N7 | Extend zero-storage mode to IndexedDB/OPFS | P2 | DPO/Dev | NEW |
| N8 | Governance: no CloudFront IP fields without DPO review | P2 | DPO/DevOps | NEW |
| N4 | Monitor MCP endpoint for personal data scope | P3 | DPO | OPEN |
| N9 | Review STUN/TURN data processing if WebRTC implemented | P3 | DPO/Architect | NEW |

**Open action count:** 19 (9 P1, 8 P2, 2 P3).

---

## 8. Summary

The 15 Feb briefs represent a significant expansion of the project's infrastructure and future architecture. From a data protection perspective:

**Major positive:** The AWS observability setup (v0.3.6) is a model of privacy by design. Fifteen data sources configured, zero end-user IP addresses captured. The DPO approves this configuration.

**Key concern:** The file transfer engine brief includes a transfer manifest example with a plaintext file name field. The current architecture deliberately excludes file names from server-side data. This must not regress.

**Growing scope:** The SA pipeline, file transfer engine, user feedback collection, WebRTC, and IndexedDB storage all introduce new data flows that need tracking. The data map is becoming more complex and the ROPA needs to keep pace.

**Critical path unchanged:** Privacy policy draft, lawful basis documentation, and Villager production review remain the P1 priorities. The observability setup approval is a significant milestone -- one fewer blocker to production deployment.

---

*Next review: 16 Feb briefs. Expected focus: evidence pack contribution, CloudFront log pipeline procedures, and log retention guidance.*
