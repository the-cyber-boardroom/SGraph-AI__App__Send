# v0.1.2 — System Landscape Map (Revised)

**Version:** v0.1.2
**Date:** 2026-02-09
**Author:** Claude (Cartographer role)
**Status:** DRAFT
**Supersedes:** `team/roles/architect/v0.1.1/v0.1.1__system-landscape-map.md`

---

## Changes from v0.1.1

| Area | v0.1.1 | v0.1.2 |
|------|--------|--------|
| API Gateway | Required (REST API) | Removed — Lambda URL Functions |
| Lambda | Single function | Two functions (public + admin) |
| Storage | Direct S3 calls | Memory-FS abstraction layer |
| S3 Buckets | 3 buckets (data, config, frontend) | 1 Storage bucket (Memory-FS) + 1 Frontend bucket |
| Frontend hosting | S3 bucket + CloudFront | Static FastAPI route (initial) |
| Auth model | Bearer tokens in one Lambda | OSBot-Fast-API built-in header/cookie auth (admin Lambda only) |
| File transfer | Always pre-signed URLs | Deployment-dependent (proxy or pre-signed) |
| CloudFront | Required from day one | Deferred (Lambda URL Functions serve directly) |
| Register Interest | Backend endpoint | External platform (removed from scope) |
| Observability | CloudWatch only | File-based (in-storage) + CloudWatch |

---

## 1. Full System Topology

```
                              ┌──────────────────────────┐
                              │        Internet          │
                              │   (Sender / Receiver)    │
                              └────────────┬─────────────┘
                                           │ HTTPS
                                           ▼
         ┌─────────────────────────────────────────────────────────┐
         │           Lambda URL Functions (direct HTTPS)           │
         │                                                         │
         │  ┌─────────────────────────┐  ┌──────────────────────┐ │
         │  │ Public Lambda           │  │ Admin Lambda          │ │
         │  │                         │  │                       │ │
         │  │ URL: {id}.lambda-url.   │  │ URL: {id}.lambda-url. │ │
         │  │      {region}.on.aws    │  │      {region}.on.aws  │ │
         │  │                         │  │                       │ │
         │  │ FastAPI + Mangum        │  │ FastAPI + Mangum      │ │
         │  │ OSBot-Fast-API          │  │ OSBot-Fast-API        │ │
         │  │ Python 3.12 / arm64     │  │ Python 3.12 / arm64   │ │
         │  │                         │  │                       │ │
         │  │ Routes:                 │  │ Auth: header/cookie   │ │
         │  │  - transfers/*          │  │ (OSBot-Fast-API       │ │
         │  │  - health               │  │  built-in)            │ │
         │  │  - static UI pages      │  │                       │ │
         │  │                         │  │ Routes:               │ │
         │  │ No auth required        │  │  - tokens/*           │ │
         │  │ (IDs are random,        │  │  - admin/stats        │ │
         │  │  content is encrypted)  │  │  - admin/logs         │ │
         │  └────────────┬────────────┘  └──────────┬────────────┘ │
         └───────────────┼──────────────────────────┼──────────────┘
                         │                          │
                         ▼                          ▼
              ┌─────────────────────────────────────────────┐
              │         Memory-FS (Storage_FS)               │
              │         Application Storage Abstraction       │
              │                                              │
              │  Interface:                                  │
              │   file__save()  file__str()  file__bytes()   │
              │   file__exists()  file__delete()             │
              │   files__paths()                             │
              │                                              │
              │  ┌────────────┬────────────┬──────────────┐ │
              │  │ In-Memory  │ Local Disk │ S3 (prod)    │ │
              │  │ (tests)    │ (dev)      │ (osbot-aws)  │ │
              │  ├────────────┼────────────┼──────────────┤ │
              │  │ SQLite     │ Zip        │ Future:      │ │
              │  │ (embedded) │ (backup)   │ Azure/GCP    │ │
              │  └────────────┴────────────┴──────────────┘ │
              └─────────────────────────────────────────────┘

              ┌──────────────────────────────────────────────┐
              │  Observability                                │
              │                                               │
              │  Primary: File-based (in Memory-FS storage)   │
              │  ├── transfers/{id}/events/                   │
              │  ├── transfers/{id}/requests/                 │
              │  └── admin/logs/                              │
              │                                               │
              │  Secondary: AWS CloudWatch                    │
              │  ├── Lambda structured logs                   │
              │  ├── Metrics (invocations, duration, errors)  │
              │  └── Alarms (error rate, latency)             │
              └──────────────────────────────────────────────┘
```

**Key change from v0.1.1:** No API Gateway. No CloudFront (initially). Two separate Lambda functions with their own URL Function endpoints. All storage through Memory-FS abstraction.

---

## 2. Data Flow: Upload (Encrypt & Send)

### 2a. Memory-FS Proxy Mode (MVP — all backends)

```
Step  Actor            Action                                  Target
────  ──────           ──────                                  ──────
 1    Sender Browser   Enter token + select file               (local)
 2    Sender Browser   Generate AES-256-GCM key                (local, Web Crypto API)
 3    Sender Browser   Encrypt file → payload blob             (local, Web Crypto API)

 4    Sender Browser   POST /transfers/create                  → Public Lambda
      [Body: {file_size, content_type_hint}]
 5    Public Lambda    Create transfer folder + meta.json      → Memory-FS
 6    Public Lambda    Log event: created                      → Memory-FS (events/)
 7    Public Lambda    Return {transfer_id, upload_endpoint}   → Sender Browser

 8    Sender Browser   POST /transfers/upload/{transfer_id}    → Public Lambda
      [Body: encrypted binary bytes]
 9    Public Lambda    Save payload.enc                        → Memory-FS
10    Public Lambda    Log event: upload_completed             → Memory-FS (events/)
11    Public Lambda    Update meta.json status → completed     → Memory-FS
12    Public Lambda    Return {download_link, transparency}    → Sender Browser

13    Sender Browser   Display link + key + transparency panel (local)
```

**Key difference from v0.1.1:** Lambda proxies the encrypted file bytes through Memory-FS. No pre-signed URLs in this mode. File bytes transit through Lambda but are always encrypted (ciphertext only).

### 2b. Pre-Signed URL Mode (S3 optimisation — future)

```
Step  Actor            Action                                  Target
────  ──────           ──────                                  ──────
 1-3  (same as 2a — client-side encryption)

 4    Sender Browser   POST /transfers/create                  → Public Lambda
 5    Public Lambda    Create transfer folder + meta.json      → Memory-FS (S3)
 6    Public Lambda    Generate pre-signed PUT URL             → S3 SDK (via osbot-aws)
 7    Public Lambda    Return {transfer_id, upload_url}        → Sender Browser

 8    Sender Browser   PUT encrypted payload                   → S3 (direct, pre-signed)
      [No Lambda involvement — direct browser→S3]

 9    Sender Browser   POST /transfers/complete/{transfer_id}  → Public Lambda
10    Public Lambda    Verify payload.enc exists               → Memory-FS (S3)
11    Public Lambda    Update meta.json + log events           → Memory-FS
12    Public Lambda    Return {download_link, transparency}    → Sender Browser
```

**Note:** This mode only available when the Memory-FS backend is S3 and a pre-signed URL extension is provided. See Architect Q1/Q2 for open questions.

---

## 3. Data Flow: Download (Receive & Decrypt)

### 3a. Memory-FS Proxy Mode (MVP)

```
Step  Actor              Action                                  Target
────  ──────             ──────                                  ──────
 1    Receiver Browser   Open /d/{transfer_id}                   → Public Lambda (SPA route)
 2    Receiver Browser   GET /transfers/info/{transfer_id}       → Public Lambda
 3    Public Lambda      Read meta.json                          ← Memory-FS
 4    Public Lambda      Log request to requests/                → Memory-FS
 5    Public Lambda      Return {status, file_size, ...}         → Receiver Browser

 6    Receiver Browser   Display transfer info + key input       (local)
 7    Receiver Browser   Enter decryption key                    (local)
 8    Receiver Browser   Click "Download & Decrypt"              (local)

 9    Receiver Browser   GET /transfers/download/{transfer_id}   → Public Lambda
10    Public Lambda      Read payload.enc                        ← Memory-FS
11    Public Lambda      Log event: downloaded                   → Memory-FS (events/)
12    Public Lambda      Log request to requests/                → Memory-FS
13    Public Lambda      Return encrypted bytes + transparency   → Receiver Browser

14    Receiver Browser   Decrypt blob using entered key          (local, Web Crypto API)
15    Receiver Browser   Trigger browser "Save As"               (local)
```

### 3b. Pre-Signed URL Mode (S3 optimisation — future)

```
Step  Actor              Action                                  Target
────  ──────             ──────                                  ──────
 1-8  (same as 3a — metadata + key entry)

 9    Receiver Browser   GET /transfers/download/{transfer_id}   → Public Lambda
10    Public Lambda      Generate pre-signed GET URL             → S3 SDK (via osbot-aws)
11    Public Lambda      Log event + request                     → Memory-FS
12    Public Lambda      Return {download_url, transparency}     → Receiver Browser

13    Receiver Browser   GET download_url                        → S3 (direct, pre-signed)
14    Receiver Browser   Decrypt blob using entered key          (local, Web Crypto API)
15    Receiver Browser   Trigger browser "Save As"               (local)
```

---

## 4. Storage Layout (Memory-FS)

See `team/roles/architect/v0.1.2/v0.1.2__data-model-and-storage.md` for full schema details.

```
(Memory-FS root)/
├── transfers/
│   └── {transfer_id}/
│       ├── meta.json                         Transfer metadata
│       ├── payload.enc                       Encrypted file blob
│       ├── events/
│       │   └── {timestamp}__{event_type}.json   One file per event
│       └── requests/
│           └── {timestamp}__{request_id}.json   One file per HTTP request
├── tokens/
│   └── {token_id}.json                       Token metadata
└── admin/
    ├── logs/
    │   └── {timestamp}__{action}.json        Admin action log
    └── stats/
        └── latest.json                       Cached aggregate stats
```

**All backends store the same layout.** The application code has no awareness of which storage backend is active.

---

## 5. Two-Lambda Architecture

```
┌──────────────────────────────────────────────────────────────┐
│                    SAME CODEBASE                              │
│                    (sgraph_ai_app_send)                       │
│                                                              │
│  Shared:                                                     │
│  ├── Storage__App__Send           (storage wrapper)          │
│  ├── Service__App__Send__Transfers (transfer logic)          │
│  ├── Service__App__Send__Tokens    (token logic)             │
│  ├── Schema__App__Send__*          (all schemas)             │
│  └── Memory-FS backend            (configured per deploy)    │
│                                                              │
│  ┌────────────────────────┐  ┌─────────────────────────────┐│
│  │ Lambda Entry: Public   │  │ Lambda Entry: Admin          ││
│  │                        │  │                              ││
│  │ handler_public(event,  │  │ handler_admin(event,         ││
│  │   context)             │  │   context)                   ││
│  │                        │  │                              ││
│  │ Service__Fast_API      │  │ Service__Fast_API            ││
│  │  routes registered:    │  │  routes registered:          ││
│  │  - Routes__Transfers   │  │  - Routes__Tokens            ││
│  │  - Routes__Health      │  │  - Routes__Admin             ││
│  │  - Routes__Static_UI   │  │                              ││
│  │                        │  │ Auth: header/cookie           ││
│  │ Auth: NONE             │  │ (key-name + key-value from   ││
│  │                        │  │  environment variable)        ││
│  └────────────────────────┘  └─────────────────────────────┘│
└──────────────────────────────────────────────────────────────┘
```

**Security boundary:** The two Lambdas enforce separation at the infrastructure level. The public Lambda physically cannot reach admin routes, and the admin Lambda is only accessible with the correct auth header/cookie.

---

## 6. Environment Separation

```
┌─────────────────────────────────────────────────────────────────────┐
│                        DEV ENVIRONMENT                              │
│  Domain:        dev-send.sgraph.ai (later, via CloudFront)         │
│  Public Lambda: sgraph-send-dev-public                              │
│  Admin Lambda:  sgraph-send-dev-admin                               │
│  Storage:       Memory-FS → S3 (sgraph-send-dev-storage)           │
│  Frontend:      Served as static FastAPI route in Public Lambda     │
│  Admin Key:     SGRAPH_SEND_ADMIN_KEY (dev-specific env var)        │
│  Deploy:        Auto on push to dev branch (GitHub Actions)         │
│  Testing:       LocalStack for S3 integration tests                 │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│                        QA ENVIRONMENT                               │
│  Domain:        qa-send.sgraph.ai (later, via CloudFront)          │
│  Public Lambda: sgraph-send-qa-public                               │
│  Admin Lambda:  sgraph-send-qa-admin                                │
│  Storage:       Memory-FS → S3 (sgraph-send-qa-storage)            │
│  Frontend:      Served as static FastAPI route in Public Lambda     │
│  Admin Key:     SGRAPH_SEND_ADMIN_KEY (qa-specific env var)         │
│  Deploy:        Manual promotion from dev                           │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│                        PROD ENVIRONMENT                             │
│  Domain:        send.sgraph.ai                                     │
│  Public Lambda: sgraph-send-prod-public                             │
│  Admin Lambda:  sgraph-send-prod-admin                              │
│  Storage:       Memory-FS → S3 (sgraph-send-prod-storage)          │
│  Frontend:      CloudFront → S3 static bucket (production only)     │
│  Admin Key:     SGRAPH_SEND_ADMIN_KEY (prod-specific env var)       │
│  Deploy:        Manual promotion from qa                            │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│                        LOCAL / TEST                                  │
│  Domain:        localhost:8000                                      │
│  Lambda:        N/A (direct FastAPI uvicorn)                        │
│  Storage:       Memory-FS → In-Memory (tests) or Local Disk (dev)  │
│  Frontend:      Served as static FastAPI route                      │
│  Admin Key:     Hardcoded test value                                │
│  Startup:       ~100ms (in-memory, no external dependencies)        │
│  Testing:       No mocks, no patches — full stack in-memory         │
└─────────────────────────────────────────────────────────────────────┘
```

Each environment is fully isolated. No shared storage, no shared Lambda functions, no shared admin keys.

**New in v0.1.2:** The local/test environment runs the full stack in-memory with ~100ms startup. No mocks or patches are used in tests (per Conductor decision).

---

## 7. Security Boundaries

```
┌─────────────────────────────────────────────────────────────────────┐
│        PUBLIC LAMBDA — PUBLIC ZONE (no auth required)               │
│                                                                     │
│  GET  /                               Frontend upload page          │
│  GET  /d/{transfer_id}                Frontend download page (SPA)  │
│  GET  /how                            How-it-works page             │
│  POST /transfers/create               Initiate transfer             │
│  POST /transfers/upload/{id}          Upload encrypted bytes        │
│  POST /transfers/complete/{id}        Mark upload complete          │
│  GET  /transfers/info/{id}            Transfer metadata             │
│  GET  /transfers/download/{id}        Download encrypted bytes      │
│  GET  /health                         Health check                  │
│                                                                     │
│  SAFETY: All IDs are cryptographically random (12-char).            │
│  All file content is AES-256-GCM encrypted ciphertext.              │
│  No file names, no decryption keys, no plaintext on server.         │
│  IP addresses stored as one-way SHA-256 hashes only.                │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│        ADMIN LAMBDA — ADMIN ZONE (auth required)                    │
│                                                                     │
│  POST   /tokens/create               Create token                  │
│  GET    /tokens/list                  List tokens                   │
│  POST   /tokens/revoke/{id}          Revoke token                  │
│  GET    /admin/stats                  Usage analytics               │
│  GET    /admin/transfers              List all transfers            │
│  GET    /admin/transfer/{id}          Transfer detail + events      │
│                                                                     │
│  Auth: OSBot-Fast-API header/cookie auth                            │
│  Key-name + key-value configured via environment variable           │
│  All admin actions logged to admin/logs/                             │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│        CLIENT-ONLY ZONE (never on server)                           │
│                                                                     │
│  AES-256-GCM key generation          Browser only (Web Crypto API) │
│  File encryption                     Browser only (Web Crypto API) │
│  File decryption                     Browser only (Web Crypto API) │
│  Decryption key display              Browser only                  │
│  Decrypted file content              Browser only                  │
│  Original file name                  Browser only (never sent)     │
│                                                                     │
│  NOTHING in this zone ever reaches the server. This is the         │
│  fundamental zero-knowledge guarantee of the system.               │
└─────────────────────────────────────────────────────────────────────┘
```

**Key change from v0.1.1:** The security boundary is now enforced at the Lambda infrastructure level (two separate functions) rather than at the route auth level within a single function. The admin Lambda is a completely separate deployment.

---

## 8. Privacy Data Flow

```
┌─────────────────────────────────────────────────────────────────────┐
│  REQUEST ARRIVES                                                     │
│                                                                     │
│  Raw data available at request time:                                │
│  ├── IP address (from Lambda event / request headers)               │
│  ├── User-Agent (full string)                                       │
│  ├── Timestamp                                                      │
│  ├── Country + Region (from IP geolocation)                         │
│  └── Request details (method, path, status)                         │
│                                                                     │
│               ┌──────────┐                                          │
│               │ PROCESS  │                                          │
│               └────┬─────┘                                          │
│                    │                                                │
│    ┌───────────────┼────────────────────┐                           │
│    ▼               ▼                    ▼                           │
│  STORED          SHOWN               DISCARDED                     │
│  (anonymised)    (transparency)      (never persisted)              │
│                                                                     │
│  ip_hash         your_ip             raw IP                        │
│  (SHA-256 +      (live from          full User-Agent               │
│   daily salt)     request)           city, postal code             │
│  ua_normalised   user_agent          coordinates                   │
│  (browser+OS)    (full string)       request headers               │
│  country         country                                           │
│  region          region                                            │
│  timestamp       timestamp                                         │
│  file_size       stored_fields[]                                   │
│                  not_stored[]                                       │
│                                                                     │
│  Pattern: SHOW LIVE, STORE ANONYMISED                              │
│  User sees real IP in transparency panel (derived from request).    │
│  Server stores only one-way hash. Cannot reverse.                  │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 9. Three UIs Architecture

```
┌─────────────────────────────────────────────────────────────────────┐
│  UI #1: MAIN USER WORKFLOW                                          │
│  Served by: Public Lambda (static FastAPI route)                    │
│  Purpose:   Upload, share, retrieve files                           │
│  Design:    Super simple, minimal code, fast load                   │
│  Pages:     Upload → Share Link → Download → Decrypt                │
│  SPA:       Client-side routing (no hash routing)                   │
│  Stack:     Vanilla JS, Web Components (IFD), Web Crypto API        │
│  Features:  Multi-theme, multi-language, accessibility from start   │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│  UI #2: USER TOOLS (Power Users)                                    │
│  Served by: Public Lambda (static FastAPI route)                    │
│  Purpose:   Detailed views, utilities, API explorer                 │
│  Design:    IFD "admin panel" mode (Shell + EventBus + Debug panel) │
│  Pages:     Transfer details, encryption tools, cookie/storage      │
│             viewer, direct API explorer, observability dashboard     │
│  Stack:     Vanilla JS, Web Components (IFD), Service singletons    │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│  UI #3: ADMIN SITE                                                  │
│  Served by: Admin Lambda (static FastAPI route)                     │
│  Purpose:   Token management, system stats, admin actions           │
│  Design:    IFD "admin panel" mode (Shell + EventBus + Debug panel) │
│  Pages:     Token CRUD, transfer list, stats dashboard, action log  │
│  Auth:      Same header/cookie as API (OSBot-Fast-API built-in)     │
│  Stack:     Vanilla JS, Web Components (IFD), Service singletons    │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 10. Deployment Pipeline

```
┌──────────┐     ┌──────────┐     ┌──────────┐     ┌──────────┐
│  Commit  │────▶│  GitHub  │────▶│   Test   │────▶│  Deploy  │
│  to dev  │     │  Actions │     │  (pytest │     │  to AWS  │
│          │     │          │     │   in-mem) │     │  dev env │
└──────────┘     └──────────┘     └────┬─────┘     └────┬─────┘
                                       │                │
                                       │                ├── Tag version
                                       │                ├── Deploy Public Lambda
                                       │                ├── Deploy Admin Lambda
                                       │                └── Create S3 bucket (if needed)
                                       │
                                 ┌─────┴─────┐
                                 │ On failure │
                                 │ → block    │
                                 │   deploy   │
                                 └───────────┘

Manual promotion: dev → qa → prod
Feature-8 (CI/CD) will be implemented by Conductor
```

---

## 11. AWS Resource Summary (Per Environment)

| Resource | Name Pattern | Count per Env | Total (3 envs) |
|----------|-------------|---------------|-----------------|
| Lambda Function | `sgraph-send-{tier}-public` | 1 | 3 |
| Lambda Function | `sgraph-send-{tier}-admin` | 1 | 3 |
| Lambda URL Function | (auto-generated per Lambda) | 2 | 6 |
| S3 Bucket | `sgraph-send-{tier}-storage` | 1 | 3 |
| IAM Role | `sgraph-send-{tier}-public-exec` | 1 | 3 |
| IAM Role | `sgraph-send-{tier}-admin-exec` | 1 | 3 |
| IAM Role | `sgraph-send-{tier}-deployer` | 1 | 3 |
| CloudWatch Log Group | `/aws/lambda/sgraph-send-{tier}-public` | 1 | 3 |
| CloudWatch Log Group | `/aws/lambda/sgraph-send-{tier}-admin` | 1 | 3 |

**Total AWS resources:** 27 (9 per environment)

**Removed from v0.1.1:** API Gateway (3), CloudFront (3), S3 Frontend bucket (3), S3 Config bucket (3) = 12 fewer resources.

**Note:** CloudFront and a dedicated S3 frontend bucket will be added for production when ready. For MVP, static assets are served directly by the Lambda URL Function through FastAPI static routes.

---

## 12. Integration Risks & Dependency Chain

### 12.1 Critical Path Dependencies

```
                   ┌──────────────────┐
                   │ AWS Account +    │
                   │ IAM Roles        │
                   └──────┬───────────┘
                          │
             ┌────────────┼────────────┐
             ▼            ▼            ▼
   ┌──────────────┐ ┌──────────┐ ┌──────────────┐
   │ S3 Storage   │ │ Public   │ │ Admin        │
   │ Bucket       │ │ Lambda   │ │ Lambda       │
   │ (Memory-FS   │ │ + URL Fn │ │ + URL Fn     │
   │  backend)    │ │          │ │              │
   └──────────────┘ └──────────┘ └──────────────┘
```

### 12.2 Risk Register

| Risk | Impact | Likelihood | Mitigation |
|------|--------|------------|------------|
| Lambda URL Function 20MB payload limit | Files >20MB can't be proxied | High | See Architect Q3 — options: lower max size, chunked upload, or pre-signed URLs |
| Lambda cold starts | First request slow (1-3s) | Medium | Provisioned concurrency for prod; acceptable for dev/qa |
| Memory-FS S3 backend not yet provided | Can't deploy to S3 | Blocked | Conductor will provide the class; develop against in-memory backend |
| S3 CORS for pre-signed URLs (future) | Direct S3 upload/download fails | Medium (future) | Test CORS config early when pre-signed URLs are added |
| Web Crypto API browser compat | Encryption fails on some browsers | Low | Target Chrome 90+, Firefox 90+, Safari 15+ |
| Static frontend served by Lambda | Slower than CDN for static assets | Low (MVP) | Acceptable for MVP; CloudFront added for production |
| Admin Lambda URL exposed | Must be kept secret | Medium | URL is auto-generated random, plus header/cookie auth enforced |

---

## 13. Technology Stack Summary

| Layer | Technology | Notes |
|-------|-----------|-------|
| Runtime | Python 3.12 / arm64 | Both Lambdas |
| Web framework | FastAPI via OSBot-Fast-API | Route classes, built-in auth |
| Lambda adapter | Mangum (via osbot-fast-api) | Translates Lambda events to ASGI |
| Storage abstraction | Memory-FS (Storage_FS) | Pluggable backends |
| AWS operations | osbot-aws | Never use boto3 directly |
| Type system | Type_Safe (osbot-utils) | Runtime type safety, never Pydantic |
| ID generation | Transfer_Id, Obj_Id | Cryptographically random, 12-char |
| Timestamps | Timestamp_Now | Integer milliseconds UTC |
| Frontend | Vanilla JS + Web Components | IFD methodology, zero dependencies |
| Encryption | Web Crypto API (AES-256-GCM) | Client-side only |
| Testing | pytest, in-memory stack | No mocks, no patches, ~100ms startup |
| Integration tests | LocalStack | S3 + pre-signed URL simulation |
| CI/CD | GitHub Actions | Test → tag → deploy |
