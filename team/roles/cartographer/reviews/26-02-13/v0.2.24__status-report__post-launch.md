# v0.2.24 -- Cartographer Status Report: Post-Launch System Landscape

**Version:** v0.2.24
**Date:** 2026-02-13
**Role:** Cartographer
**Supersedes:** `team/roles/cartographer/v0.1.2/v0.1.2__system-landscape-map-revised.md`

---

## 1. What Changed Since v0.1.2

The v0.1.2 system landscape map described a planned architecture. The system is now live. The following components are new or materially different:

| Component | v0.1.2 Status | v0.2.24 Status | Notes |
|-----------|---------------|----------------|-------|
| `send.sgraph.ai` | Planned domain | **Live** | Lambda URL Function behind custom domain |
| `docs.send.sgraph.ai` | Not in scope | **Live** | Jekyll on GitHub Pages |
| Google Analytics (GA4) | Not in scope | **Live** | Shared property across both domains |
| LaunchList | Not in scope | **Live** | Waitlist widget on docs site |
| Access token auth | Admin Lambda only | **Per-route on User Lambda** | `x-sgraph-access-token` header |
| Root redirect | Not planned | **Live** | `/` redirects or serves gated landing |
| S3 storage backend | Planned | **Live** | Memory-FS with S3 backend operational |
| Admin Lambda | Scaffolded | **Deployed** (auth via env var) |
| 56 tests | 7 tests existed | **56 passing** | Major test coverage expansion |

---

## 2. Updated Component Inventory

### 2.1 Live Infrastructure

```
send.sgraph.ai (User Lambda)
  |-- FastAPI + Mangum on Lambda (Python 3.12 / arm64)
  |-- Routes: /, /send, /d/{id}, /health, /transfers/*
  |-- Auth: per-route x-sgraph-access-token (shared secret)
  |-- Storage: Memory-FS -> S3 bucket
  |-- GA4: gtag.js loaded on UI pages

docs.send.sgraph.ai (Documentation)
  |-- Jekyll on GitHub Pages
  |-- GA4: same property as send.sgraph.ai
  |-- LaunchList: waitlist signup widget
  |-- 5 articles published

Admin Lambda (separate function)
  |-- FastAPI + Mangum on Lambda
  |-- Routes: /tokens/*, /admin/*
  |-- Auth: env var based (SGRAPH_SEND__ACCESS_TOKEN)
```

### 2.2 External Services

| Service | Purpose | Data Sent |
|---------|---------|-----------|
| Google Analytics 4 | Usage metrics | Page views, session data, GA cookies |
| LaunchList | Waitlist collection | Name, email (user-submitted) |
| GitHub Pages | Docs hosting | Static site content |
| AWS S3 | Encrypted file storage | Ciphertext blobs only |
| PyPI | Package distribution | Published Python package |

### 2.3 Auth Flow (New)

```
User Browser
  |-- Enters access token on landing page
  |-- Token stored in localStorage
  |-- Token sent as x-sgraph-access-token header on protected routes
  |-- Server checks against SGRAPH_SEND__ACCESS_TOKEN env var
  |-- Pass: serve page / Allow: no global middleware, checked per route
```

---

## 3. What Needs Mapping

The following areas lack formal topology documentation:

| Area | Priority | Notes |
|------|----------|-------|
| DNS and domain routing | P1 | How send.sgraph.ai resolves to Lambda URL Function |
| GA4 data flow | P1 | What data leaves the browser, where it goes |
| LaunchList integration point | P2 | Widget embed, data flow to LaunchList servers |
| CI/CD pipeline (current state) | P1 | v0.1.2 showed planned pipeline; actual pipeline differs |
| S3 bucket layout (live) | P2 | Verify matches the v0.1.2 storage layout spec |
| GitHub Pages deployment | P2 | Jekyll build and publish flow |

---

## 4. Topology Drift from v0.1.2

The v0.1.2 map assumed:
- No external analytics service -- **GA4 now present**
- No external waitlist service -- **LaunchList now present**
- Admin-only auth -- **User Lambda now also has per-route auth**
- No docs site -- **docs.send.sgraph.ai now live**
- Public Lambda unauthenticated -- **Partially gated (early access)**

These additions are pragmatic shortcuts for the friendlies launch. They should be formally incorporated into the next system landscape map revision.

---

## 5. Recommended Next Steps

1. **Produce v0.2.24 system landscape map** incorporating all live components, external services, and auth flows.
2. **Map the DNS/routing layer** -- currently undocumented how custom domains map to Lambda URL Functions.
3. **Update the CI/CD pipeline diagram** to reflect actual GitHub Actions workflow (not the planned one from v0.1.2).

---

*The system has outgrown its map. A revised landscape map is needed before further architecture changes.*
